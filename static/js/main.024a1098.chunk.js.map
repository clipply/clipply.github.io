{"version":3,"sources":["serviceWorker.js","reducers/reducer-browse-load.js","reducers/reducer-search.js","reducers/reducer-video-load.js","reducers/reducer-clipping.js","reducers/reducer-chat-replay.js","reducers/index.js","sagas/sagas-browse-load.js","sagas/sagas-video-load.js","sagas/sagas-search.js","sagas/sagas-clipping.js","sagas/sagas-progress-router.js","sagas/sagas-chat-replay.js","sagas/index.js","components/menu-bar.js","components/overlays.js","components/browse-vod-grid.js","components/browse-vod-filters.js","utils/constants.js","components/footer.js","containers/browse.js","components/video-player.js","components/search-bar.js","utils/string-utils.js","components/search-top-results.js","components/search-results.js","components/search-top-comments.js","containers/search-tab.js","containers/clip-tab.js","containers/chat-tab.js","components/timeline-scrub.js","containers/timeline.js","containers/video-page.js","components/contact.js","containers/home.js","containers/about.js","containers/main.js","containers/app.js","index.js"],"names":["Boolean","window","location","hostname","match","types","UPDATE_BROWSE_VODS","UPDATE_BROWSE_FILTERS","CHANGE_GAME_FILTER","CHANGE_STREAMER_FILTER","CLEAR_ALL_FILTERS","LOADING_VODS","LOAD_BROWSE_VODS","actions","updateBrowseVods","vods","type","payload","changeGameFilter","game","changeStreamerFilter","streamer","clearAllFilters","updateBrowseFilters","games","streamers","onLoadingVods","isLoading","loadBrowseVods","filters","state","vodBrowse","gameFilter","streamerFilter","initialState","isBrowseLoading","ADD_SEARCH","ADD_SEARCH_RESULT","REMOVE_SEARCH_RESULT","UPDATE_SEARCH_RESULT","SEARCH_STATUS_UPDATE","CLEAR_SEARCH_RESULTS","LOAD_TOP_COMMENTS","SET_TOP_COMMENTS","CLEAR_TOP_COMMENTS","addSearch","vodID","queryMessage","userFilters","addSearchResult","result","removeSearchResult","id","updateSearchStatus","clearSearchResults","loadTopComments","setTopComments","topComments","clearTopComments","searchResults","LOAD_VIDEO_INFO","UPDATE_CURRENT_VODID","UPDATE_VIDEO_DURATION","UPDATE_VIDEO_INFO","SET_VIDEO_PROGRESS","CLEAR_VIDEO_INFO","loadVideoInfo","updateVideoInfo","vodInfo","updateCurrentVodID","updateVideoDuration","duration","setVideoProgress","seconds","clearVideoInfo","vodDuration","currentProgress","metaData","checkLoadingStatus","CREATE_CLIP","ADD_CLIP","DELETE_CLIP","CLEAR_CLIPS","createClip","left","right","addClip","clip","deleteClip","clearClips","clips","CHAT_VIDEO_PROGRESS","ADD_COMMENTS_TO_BUFFER","SET_COMMENTS_IN_BUFFER","chatVideoProgress","addCommentsToBuffer","comments","setCommentsInBuffer","chatBuffer","vodChat","allReducers","combineReducers","arguments","length","undefined","action","Object","objectSpread","map","vod","datediff","Date","now","PublishedAt","Math","floor","DateDiff","search","resultObj","topHighlights","_","orderBy","resultDensityMap","buckets","filter","item","count","slice","60","hist","10","Array","fill","windowMin","commentWindowMin","windowMax","commentWindowMax","results","totalResults","resultsFound","query","timeSearched","defineProperty","_state$searchResults","res","objectWithoutProperties","_toPropertyKey","s","vodClips","_state$clips","reducer_clipping_toPropertyKey","concat","toConsumableArray","browseLoadWatcherSaga","loadBrowseWorker","regenerator_default","a","wrap","_context","prev","next","all","takeLatest","loadBrowseTypes","stop","_marked","filt","browseResponse","_context2","put","loadBrowseActions","select","sent","axios","method","url","params","then","response","data","catch","error","console","log","message","_marked2","videoLoadWatcherSaga","loadVideoWorker","loadVideoTypes","sagas_video_load_marked","vodInfoResults","seekPreviewQualities","seek_preview_images","reduce","obj","quality","loadVideoActions","sagas_video_load_marked2","searchWatcherSaga","searchWorker","topCommentsWorker","searchTypes","sagas_search_marked","searchActions","abrupt","userFilter","join","ceil","parseFloat","uuid4","sagas_search_marked2","_context3","limit","Highlights","Buckets","_marked3","clipWatcherSaga","clipWorker","clippingTypes","sagas_clipping_marked","thumbnail","meta","width","height","rows","cols","interval","thumbsPerImage","thumbTime","totalThumbIndex","imageIndex","thumbIndex","rowIndex","xOffset","yOffset","high","images","err","clippingActions","sagas_clipping_marked2","progressWatcherSaga","progressWorker","ON_PROGRESS_UPDATE","onProgressUpdate","sagas_progress_router_marked","videoLoadActions","chatReplayActions","sagas_progress_router_marked2","chatReplayWatcherSaga","chatReplayWorker","chatReplayTypes","sagas_chat_replay_marked","lastTime","cursor","lastBatchMaxTime","buffer","abs","content_offset_seconds","max","apply","min","sagas_chat_replay_marked2","rootSaga","browseLoading","clipping","videoLoading","progressRouter","chatReplay","sagas_marked","MobileMenu","sidebarOpened","handleSidebarHide","_this","setState","handleToggle","this","react_default","createElement","Responsive","maxWidth","onlyMobile","Sidebar","as","Menu","animation","inverted","onHide","vertical","visible","Item","react_router_dom","to","fixed","size","style","onClick","Icon","name","React","Component","DesktopMenu","minWidth","onlyTablet","MenuBar","_ref","children","menu_bar_DesktopMenu","menu_bar_MobileMenu","TopLeftItemOverlay","styled","div","_templateObject","TopRightItemOverlay","_templateObject2","EmptyFullOverlay","_templateObject3","props","blur","UserImage","Image","browse_vod_grid_templateObject","VodContainer","browse_vod_grid_templateObject2","VodContentContainer","browse_vod_grid_templateObject3","BrowseVodGrid","Grid","padded","centered","Column","mobile","tablet","computer","largeScreen","widescreen","key","VodID","ThumbnailURL","fluid","src","encodeURIComponent","DisplayName","replace","Duration","ProfileImageURL","circular","float","BoxArtURL","Header","textOverflow","marginTop","marginLeft","Title","Subheader","Game","FilterDropdown","Dropdown","browse_vod_filters_templateObject","BrowseVodFilters","gameFilters","value","text","streamerFilters","columns","placeholder","selection","clearable","scrolling","loading","options","onChange","e","onStreamerChange","streamerFilterValue","onGameChange","gameFilterValue","instagram","youtube","email","Footer","Segment","padding","Container","divided","stackable","Row","List","link","horizontal","href","constants","fontSize","VodBrowser","scrollTo","_this$props$vodBrowse","browse_vod_filters","browse_vod_grid","paddingTop","footer","connect","dispatch","bindActionCreators","VideoPlayer","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","ref","player","seekTo","contentOffset","playing","_this2","ReactPlayer_default","progressInterval","onProgress","progress","onVideoProgress","playedSeconds","onDuration","onVideoDuration","prevProps","SearchBar","onAddSearch","onSearchKeyPress","keyCode","onSearchChange","Input","onKeyDown","icon","color","disabled","formatTime","toString","padStart","formatDuration","hl","ml","sl","pluralize","h","m","hs","ms","ss","HighlightItem","search_top_results_templateObject","TimeStamp","search_top_results_templateObject2","HitCounter","search_top_results_templateObject3","TopHeader","_templateObject4","TopSearchResults","renderTopComments","highlights","handleOnDragStart","preventDefault","b","idx","onDragStart","val","paddingBottom","borderBottom","fontWeight","Button","Group","Carousel","_slidePrev","_slideNext","react_alice_carousel_default","el","buttonsDisabled","dotsDisabled","infinite","responsive","540","items","ResultTitle","search_results_templateObject","SearchResults","handleClick","inActiveIds","includes","Accordion","exclusive","keys","Fragment","active","index","borderTop","Popup","trigger","user","Label","label","basic","content","pointing","labelPosition","compact","onRemoveSearch","Content","clear","search_top_results","TermHolder","hover","onMouseEnter","onMouseLeave","margin","Term","ishovered","Count","search_top_comments_templateObject","search_top_comments_templateObject2","TopComments","_this3","renderHighlightTerms","selectedTerms","topTerms","selected","term","search_top_comments_TermHolder","removeSearch","top","marginBottom","SearchTab","request","renderSearchResults","search_results","_this$props$search","selectedQueries","comment","Val","search_bar","search_top_comments","ThumbnailImage","clip_tab_templateObject","x","y","ClipTab","renderClips","textAlign","Statistic","Value","total","Meta","className","Description","Extra","ChatTab","renderChat","filteredMessages","message_user_color","commenter_display_name","message_body","messagesEnd","scrollToBottom","scrollIntoView","behavior","TimeLineScrub","dragging","brushArea","bottom","brushing","panning","resizing","startLocX","startLocY","dragArea","preview","getClipArea","evt","xLocN","pageX","offsetX","yLocN","pageY","offsetY","xScale","getAttributeScale","yScale","_this$props","xLoc","invert","yLoc","_this$state","_this$props2","enableX","enableY","innerWidth","highlightWidth","highlightHeight","innerHeight","marginRight","minHeight","maxHeight","_this$props3","_this$state2","_this$props4","_this$state3","_this$state3$brushAre","clickedOutsideDragX","clickedOutsideDragY","_this$props5","onBrushStart","drag","_this$getLocs","getLocs","nativeEvent","startArea","resetDrag","emptyBrush","clickedOutsideDrag","_clickedOutsideDrag","_this$state4","_this$props6","onBrushEnd","onDragEnd","noHorizontal","isNulled","_this$props7","onBrush","onDrag","_this$state5","_this$getLocs2","_getDrawArea","_getDragArea","_this$getLocs3","_this$props8","onNavigate","_this$state6","navPoint","desiredPos","_this$getLocs4","_this$props9","_this$getLocs5","onPan","_this$state7","_this$props10","_this$getLocs6","intervalPos","_this$getLocs7","_this$getLocs8","newRight","newLeft","button","startPanning","resize","startBrushing","pan","onNavigatePreview","stopPanning","stopResize","stopBrushing","_this$props11","highlightX","highlightY","opacity","_this$state$brushArea","leftPos","topPos","touchWidth","touchHeight","cursorPos","previewPos","transform","onMouseDown","onMouseMove","onMouseUp","onTouchEnd","onTouchCancel","onContextMenu","onContextMenuCapture","pointerEvents","textAnchor","userSelect","fontFamily","startResize","AbstractSeries","defaultProps","TimelineContainer","timeline_templateObject","Loading","timeline_templateObject2","Toolbar","timeline_templateObject3","ToolBarButton","timeline_templateObject4","Legend","DiscreteColorLegend","_templateObject5","Timeline","setFilterWindow","filterWindow","computeY","_this$state$filterWin","minIdx","maxIdx","resetWindow","onWheelZoom","delta","_this$state$filterWin2","dist","factor","l","r","_this$state$filterWin3","throttledWindow","onResize","area","toggleClipping","isClipping","togglePanning","isPanning","renderSeries","emptyData","ele","i","react_vis_es","curve","stroke","colorPalette","renderLegend","title","orientation","createClipping","clipArea","scrub","axisStyle","line","ticks","throttle","_this$props$vodInfo","onWheel","deltaY","xDomain","yDomain","dontCheckIfEmpty","tickFormat","v","tickSize","timeline_scrub","esm","handleWidth","handleHeight","AfterContent","video_page_templateObject","SplitPane","video_page_templateObject2","TabPane","Tab","Pane","video_page_templateObject3","PaneContainer","video_page_templateObject4","VideoPage","handleItemClick","activeItem","seek","populateInitialSearch","getClipTabMenu","video_id","createdUrl","clipInfo","lib_default","primaryMinSize","secondaryMinSize","secondaryInitialSize","percentage","customClassName","video_player","secs","timeline","Dimmer","Loader","attached","tabular","search_tab","clip_tab","chat_tab","progressActions","Contact","container","verticalAlign","floated","TypistContainer","home_templateObject","BackgroundVideo","video","home_templateObject2","HeaderContent","home_templateObject3","home_templateObject4","home_templateObject5","typistIndex","position","background","overflow","muted","autoPlay","loop","display","flexDirection","flexWrap","justifyContent","lineHeight","Typist_default","onTypingDone","avgTypingDelay","stdTypingDelay","word","Backspace","delay","Home","home_HeaderContent","onGetStarted","vodPreviews","block","About","contact","Main","react_router","exact","path","component","Browse","App","menu_bar","main","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","allStoreEnhancers","applyMiddleware","store","createStore","run","allSagas","ReactDOM","render","es","app","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.024a1098.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","export const types = {\n    UPDATE_BROWSE_VODS : 'UPDATE_BROWSE_VODS',\n    UPDATE_BROWSE_FILTERS: 'UPDATE_BROWSE_FILTERS',\n    CHANGE_GAME_FILTER: 'CHANGE_GAME_FILTER',\n    CHANGE_STREAMER_FILTER: 'CHANGE_STREAMER_FITLER', \n    CLEAR_ALL_FILTERS: 'CLEAR_ALL_FILTERS',   \n    LOADING_VODS: 'LOADING_VODS',\n    LOAD_BROWSE_VODS: 'LOAD_BROWSE_VODS'\n};\n\nexport const actions = {\n    updateBrowseVods: (vods) => ({type: types.UPDATE_BROWSE_VODS, payload: vods}),\n    changeGameFilter: (game) => ({type: types.CHANGE_GAME_FILTER, game: game}),    \n    changeStreamerFilter: (streamer) => ({type: types.CHANGE_STREAMER_FILTER, streamer: streamer}),\n    clearAllFilters: () => ({type: types.CLEAR_ALL_FILTERS}),\n    updateBrowseFilters: (games, streamers) => ({type: types.UPDATE_BROWSE_FILTERS, games: games, streamers: streamers}),\n    onLoadingVods: (isLoading) => ({type: types.LOADING_VODS, payload: isLoading}),\n    loadBrowseVods: () => ({type: types.LOAD_BROWSE_VODS})\n}\n\nexport const filters = state =>{ return {game: state.vodBrowse.gameFilter, streamer: state.vodBrowse.streamerFilter} }\n\n\nexport const initialState = {\n    vods: [],\n    games: [],\n    streamers: [],\n    gameFilter: \"\",\n    streamerFilter: \"\",\n    isBrowseLoading: false\n};\n\nexport default function(state = initialState, action){\n    switch (action.type){\n        case types.LOADING_VODS:\n            return {...state, isBrowseLoading: action.payload};\n        case types.UPDATE_BROWSE_FILTERS:\n            return {...state, games: action.games, streamers: action.streamers}\n        case types.UPDATE_BROWSE_VODS:\n            // Format the date diff into a human readable value\n            var vods = action.payload.map(vod => {\n                var now = Date.now()\n                var videoDate = new Date(vod.PublishedAt)\n                var datediff = (now - videoDate) / 36e5\n                if (datediff > 24) {\n                datediff = Math.floor(datediff / 24) + \" Days Ago \"\n                } else {\n                datediff = Math.floor(datediff) + \" Hours Ago\"\n                }\n                return { ...vod, DateDiff: datediff }\n            })\n            return {...state, vods: vods};\n        case types.CHANGE_GAME_FILTER:\n            return {...state, gameFilter: action.game}\n        case types.CHANGE_STREAMER_FILTER:\n            return {...state, streamerFilter: action.streamer}\n        case types.CLEAR_ALL_FILTERS:\n            return {...state, streamerFilter:\"\", gameFilter:\"\"}\n        default:\n            return state;\n    }\n}","import _ from 'lodash';\n\nexport const types = {\n    ADD_SEARCH : 'ADD_SEARCH',\n    ADD_SEARCH_RESULT: 'ADD_SEARCH_RESULT',\n    REMOVE_SEARCH_RESULT: 'REMOVE_SEARCH_RESULT',\n    UPDATE_SEARCH_RESULT: 'UPDATE_SEARCH_RESULT',\n    SEARCH_STATUS_UPDATE: 'SEARCH_STATUS_UPDATE',\n    CLEAR_SEARCH_RESULTS: 'CLEAR_SEARCH_RESULTS',\n    LOAD_TOP_COMMENTS:'LOAD_TOP_COMMENTS',\n    SET_TOP_COMMENTS:'SET_TOP_COMMENTS',\n    CLEAR_TOP_COMMENTS:'CLEAR_TOP_COMMENTS'\n    \n};\n\nexport const actions = {\n    addSearch: (vodID, queryMessage, userFilters) => ({\n        type: types.ADD_SEARCH, \n        queryMessage: queryMessage,\n        userFilters: userFilters,\n        vodID: vodID       \n    }),\n    addSearchResult: (result) => ({type: types.ADD_SEARCH_RESULT, payload: result}),\n    removeSearchResult: (id) => ({type: types.REMOVE_SEARCH_RESULT, id: id}),\n    updateSearchStatus: (isLoading) => ({type: types.SEARCH_STATUS_UPDATE, isLoading: isLoading}),  \n    clearSearchResults: () => ({type: types.CLEAR_SEARCH_RESULTS}),\n    loadTopComments: (vodID)=>  ({type: types.LOAD_TOP_COMMENTS, vodID:vodID}),\n    setTopComments: (topComments)=> ({type: types.SET_TOP_COMMENTS, topComments:topComments}),\n    clearTopComments: ()=>({type: types.CLEAR_TOP_COMMENTS})\n\n}\n\nexport const initialState = {\n    isLoading: false,    \n    searchResults: {},\n    topComments: []\n};\n\nexport default function(state = initialState, action){\n    switch (action.type){        \n        case types.ADD_SEARCH_RESULT:           \n            var resultObj = {}\n            var payload = action.payload\n            resultObj.topHighlights = _.orderBy(payload.resultDensityMap.buckets, ['count'], ['desc'])\n                                        .filter(item => item.count>0)\n                                        .slice(0,10)\n            resultObj.resultDensityMap = {\n                60: payload.resultDensityMap.buckets.map(hist => hist.count),\n                10: Array(Math.floor(payload.vodDuration/10)).fill(0)\n            }\n            resultObj.comments = {\n                windowMin: payload.commentWindowMin,\n                windowMax: payload.commentWindowMax,\n                results: payload.results\n            }\n            resultObj.totalResults = payload.resultsFound\n            resultObj.query = payload.query\n            resultObj.userFilters = payload.userFilters\n            resultObj.vodID = payload.vodID\n            resultObj.vodDuration = payload.vodDuration\n            resultObj.timeSearched = Date.now()\n            \n            return {...state, searchResults: {...state.searchResults, [action.payload.id]:resultObj}};\n        case types.REMOVE_SEARCH_RESULT:\n            const {[action.id]: del, ...res} = state.searchResults\n            return {...state, searchResults:res}\n        case types.SEARCH_STATUS_UPDATE:\n            return {...state, isLoading: action.isLoading}\n        case types.CLEAR_SEARCH_RESULTS:\n            return {...state, searchResults:{}}\n        case types.SET_TOP_COMMENTS:\n            return {...state, topComments: action.topComments}\n        case types.CLEAR_TOP_COMMENTS:\n            return {...state, topComments:[]}\n        default:\n            return state;\n    }\n}","export const types = {\n    LOAD_VIDEO_INFO: 'LOAD_VIDEO_INFO',\n    UPDATE_CURRENT_VODID: 'UPDATE_CURRENT_VODID',\n    UPDATE_VIDEO_DURATION : 'UPDATE_VIDEO_DURATION', \n    UPDATE_VIDEO_INFO: 'UPDATE_VIDEO_INFO',\n    SET_VIDEO_PROGRESS: 'SET_VIDEO_PROGRESS',\n    CLEAR_VIDEO_INFO: 'CLEAR_VIDEO_INFO'  \n};\n\nexport const actions = {\n    loadVideoInfo: (vodID) => ({type:types.LOAD_VIDEO_INFO, vodID:vodID}),\n    updateVideoInfo: (vodInfo) => ({type:types.UPDATE_VIDEO_INFO, vodInfo:vodInfo}),\n    updateCurrentVodID: (vodID) => ({type: types.UPDATE_CURRENT_VODID, vodID: vodID}),\n    updateVideoDuration: (duration) => ({type: types.UPDATE_VIDEO_DURATION, duration: duration}),\n    setVideoProgress: (seconds) => ({type: types.SET_VIDEO_PROGRESS, seconds: seconds}),\n    clearVideoInfo: () => ({type: types.CLEAR_VIDEO_INFO})\n}\n\nexport const initialState = {\n    vodID: null,\n    isLoading: true,\n    vodDuration: null,\n    currentProgress: 0,\n    metaData: null\n};\n\nfunction checkLoadingStatus(state){    \n    return (state.vodID==null) || (state.vodDuration==null)\n}\n\n// Selectors\nexport const vodDuration = state => state.vodInfo.vodDuration\nexport const metaData = state => state.vodInfo.metaData\n\nexport default function(state = initialState, action){\n    switch (action.type){\n        case types.UPDATE_CURRENT_VODID:\n            var s =  {...state, vodID: action.vodID};\n            s.isLoading = checkLoadingStatus(s)\n            return s\n        case types.UPDATE_VIDEO_DURATION:\n            var s = {...state, vodDuration: action.duration};\n            s.isLoading = checkLoadingStatus(s)\n            return s\n        case types.SET_VIDEO_PROGRESS:\n            return {...state, currentProgress: action.seconds}\n        case types.UPDATE_VIDEO_INFO:\n            return {...state, metaData: action.vodInfo}    \n        case types.CLEAR_VIDEO_INFO:\n            return {vodID: null, isLoading: true, vodDuration: null, currentProgress:0}\n        default:\n            return state;\n    }\n}","export const types = {\n    CREATE_CLIP : 'CREATE_CLIP',\n    ADD_CLIP: 'ADD_CLIP',\n    DELETE_CLIP: 'DELETE_CLIP',\n    CLEAR_CLIPS: 'CLEAR_CLIPS'   \n};\n\nexport const actions = {\n    createClip: (vodID, left, right) => ({\n        type: types.CREATE_CLIP, \n        vodID: vodID,\n        left: left,\n        right: right       \n    }),\n    addClip: (id, clip) =>({type: types.ADD_CLIP, id:id, clip: clip}),\n    deleteClip: (id) => ({type: types.DELETE_CLIP, id: id}),\n    clearClips: ()=> ({type: types.CLEAR_CLIPS})   \n}\n\nexport const initialState = {\n    clips: {}\n};\n\nexport default function(state = initialState, action){\n    switch (action.type){        \n        case types.ADD_CLIP:       \n            return {...state, clips:{...state.clips, [action.id]:action.clip} }         \n        case types.DELETE_CLIP:\n            const {[action.id]: del, ...res} = state.clips\n            return {...state, clips:res}\n        case types.CLEAR_CLIPS:\n            return {...state, clips:{}}\n        default:\n            return state;\n    }\n}","import _ from 'lodash'\n\nexport const types = {\n    CHAT_VIDEO_PROGRESS : 'CHAT_VIDEO_PROGRESS',\n    ADD_COMMENTS_TO_BUFFER: 'ADD_COMMENTS_TO_BUFFER',\n    SET_COMMENTS_IN_BUFFER: 'SET_COMMENTS_IN_BUFFER'\n};\n\nexport const actions = {\n    chatVideoProgress: (seconds, vodID) => ({type: types.CHAT_VIDEO_PROGRESS, seconds: seconds, vodID: vodID}), \n    addCommentsToBuffer: (comments) => ({type: types.ADD_COMMENTS_TO_BUFFER, comments: comments}),\n    setCommentsInBuffer: (comments) => ({type: types.SET_COMMENTS_IN_BUFFER, comments: comments}) \n}\n\nexport const chatBuffer = state => state.vodChat.chatBuffer\n\nexport const initialState = {\n    chatBuffer: []    \n};\n\nexport default function(state = initialState, action){\n    switch (action.type){    \n        case types.ADD_COMMENTS_TO_BUFFER:\n            return {...state, chatBuffer: [...state.chatBuffer, ...action.comments].slice(-500,-1)}\n        case types.SET_COMMENTS_IN_BUFFER:\n            return {...state, chatBuffer: action.comments}         \n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport BrowseLoadReducer from './reducer-browse-load';\nimport SearchReducer from \"./reducer-search\";\nimport VideoLoadReducer from './reducer-video-load'\nimport ClippingReducer from './reducer-clipping'\nimport ChatReplayReducer from './reducer-chat-replay'\n\nconst allReducers = combineReducers({\n    vodBrowse: BrowseLoadReducer,\n    search: SearchReducer,\n    vodInfo: VideoLoadReducer,\n    vodClips: ClippingReducer,\n    vodChat: ChatReplayReducer\n});\n\nexport default allReducers;\n","import {takeLatest, call, put, delay, all, select} from \"redux-saga/effects\"\nimport {types as loadBrowseTypes, actions as loadBrowseActions} from \"../reducers/reducer-browse-load\";\nimport {filters} from \"../reducers/reducer-browse-load\"\nimport axios from 'axios';\n\nexport function* browseLoadWatcherSaga(){\n    yield all([\n        takeLatest(loadBrowseTypes.LOAD_BROWSE_VODS, loadBrowseWorker),\n        takeLatest(loadBrowseTypes.CHANGE_GAME_FILTER, loadBrowseWorker ),\n        takeLatest(loadBrowseTypes.CHANGE_STREAMER_FILTER, loadBrowseWorker )\n    ]);\n}\n\nfunction* loadBrowseWorker(action){\n    yield put(loadBrowseActions.onLoadingVods(true)); \n    \n    const filt = yield select(filters)\n    var browseResponse = yield yield axios({\n            method: 'get',\n            url: `/api/browse`,\n            params: {\n                game: filt.game,\n                streamer: filt.streamer\n            }\n        })\n        .then( (response) => { return response.data} )\n        .catch( (error) => {console.log(error.response.data.message)})\n\n    if (browseResponse) {\n        yield put(loadBrowseActions.updateBrowseVods(browseResponse.vods));\n        if(action.type == loadBrowseTypes.LOAD_BROWSE_VODS && filt.game==\"\" && filt.streamer ==\"\"){\n            yield put(loadBrowseActions.updateBrowseFilters(browseResponse.games, browseResponse.streamers))\n        }\n    }\n    yield put(loadBrowseActions.onLoadingVods(false));\n}\n","import {takeLatest, call, put, delay} from \"redux-saga/effects\"\nimport {types as loadVideoTypes, actions as loadVideoActions} from \"../reducers/reducer-video-load\";\nimport axios from 'axios';\n\nexport function* videoLoadWatcherSaga(){\n    yield takeLatest(loadVideoTypes.LOAD_VIDEO_INFO, loadVideoWorker);\n}\n\nfunction* loadVideoWorker(action){\n    var vodInfoResults = yield axios({\n        method: 'get',\n        url: `/api/vodInfo/${action.vodID}`,        \n    })\n    .then( (response) => { return response.data.data} ) \n    .catch( (error) => {console.log(error, error.response)})\n   \n    if (vodInfoResults){\n        const seekPreviewQualities = (vodInfoResults.seek_preview_images || []).reduce(\n            (obj, item) => {\n                obj[item.quality] = item\n                return obj\n            }, {}\n        )        \n        const results = {...vodInfoResults, seek_preview_images: seekPreviewQualities }        \n        yield put(loadVideoActions.updateVideoInfo(results))\n    }    \n}","import {takeLatest, call, put, delay, select, all} from \"redux-saga/effects\"\nimport {types as searchTypes, actions as searchActions} from \"../reducers/reducer-search\";\nimport {vodDuration} from \"../reducers/reducer-video-load\"\nimport axios from 'axios';\nimport uuid4 from 'uuid/v4'\n\nexport function* searchWatcherSaga(){\n    yield all([\n        takeLatest(searchTypes.ADD_SEARCH, searchWorker),\n        takeLatest(searchTypes.LOAD_TOP_COMMENTS, topCommentsWorker)\n    ])\n}\n\nfunction* searchWorker(action){\n    yield put(searchActions.updateSearchStatus(true));       \n    const duration = yield select(vodDuration)\n\n    if (duration==null){\n        yield put(searchActions.updateSearchStatus(false));\n        console.log(\"Video duration information couldn't be loaded, aborting search\")\n        return\n    }\n        \n    var results = yield axios({\n        method: 'get',\n        url: \"/api/comments/search\",\n        params: {\n            vodID: action.vodID,\n            queryMessage: action.queryMessage,\n            userFilter: action.userFilters.length >0 ? action.userFilters.join(' ') : [],\n            windowMax: Math.ceil(parseFloat(duration))\n        }\n    })\n    .then( (response) => { return response.data} )\n    .catch( (error) => {console.log(error.response.data.message)})\n\n    if (results){\n        results.query = action.queryMessage\n        results.vodID = action.vodID\n        results.userFilters = action.userFilters\n        results.id = uuid4()\n        results.vodDuration = duration\n        results.commentWindowMin = 0\n        results.commentWindowMax = Math.ceil(parseFloat(duration))\n        yield put(searchActions.addSearchResult(results))\n    }\n    yield put(searchActions.updateSearchStatus(false));\n}\n\nfunction* topCommentsWorker(action){\n    var results = yield axios({\n        method: 'get',\n        url: `/api/comments/highlights/${action.vodID}`,\n        params: {\n            limit:8\n        }\n    })\n    .then( (response) => { return response.data} )\n    .catch( (error) => {console.log(error.response.data.message)})\n\n    if (results){\n        yield put(searchActions.setTopComments(results.Highlights.Buckets));\n    }\n    \n}","import {takeLatest, call, put, delay, select} from \"redux-saga/effects\"\nimport {types as clippingTypes, actions as clippingActions} from \"../reducers/reducer-clipping\";\nimport {metaData} from \"../reducers/reducer-video-load\"\nimport uuid4 from 'uuid/v4'\n\nexport function* clipWatcherSaga(){\n    yield takeLatest(clippingTypes.CREATE_CLIP, clipWorker);\n}\n\nfunction* clipWorker(action){    \n    const id = uuid4()\n    var thumbnail = null\n    const meta = yield select(metaData)\n    \n    try{    \n        if (meta){\n            var totalImages = meta.seek_preview_images.high.images.length\n            var width = meta.seek_preview_images.high.width\n            var height = meta.seek_preview_images.high.height\n            var rows = meta.seek_preview_images.high.rows\n            var cols = meta.seek_preview_images.high.cols\n            var interval = meta.seek_preview_images.high.interval\n            var thumbsPerImage = rows * cols\n\n            var thumbTime = (action.right + action.left)/2          // Choose the middle of clip for a thumbnail\n            var totalThumbIndex = Math.floor(thumbTime/interval)    // Calculate the total thumnail number\n\n            var imageIndex = Math.floor(totalThumbIndex/thumbsPerImage) // Calculate which image atlas has the thumnail\n            var thumbIndex = totalThumbIndex % thumbsPerImage           // Within the image atlas, which thumnail is it            \n            var rowIndex = Math.floor(thumbIndex/cols)\n            var colIndex = thumbIndex % cols\n            var xOffset = colIndex * width\n            var yOffset = rowIndex * height\n            \n            thumbnail = {\n                url: meta.seek_preview_images.high.images[imageIndex],\n                xOffset: xOffset,\n                yOffset: yOffset,\n                width: width,\n                height: height                \n            }            \n        }else{\n            console.log(\"No meta data was found to create clip\")\n        }\n    }\n    catch(err){\n        console.log(\"Unable to generate thumbnail for clip:\", err)\n    }  \n\n    const clip = {        \n        vodID: action.vodID,\n        left: action.left,\n        right: action.right,\n        thumbnail: thumbnail\n    }\n\n    yield put(clippingActions.addClip(id, clip));\n}","import {takeLatest, call, put, delay, select} from \"redux-saga/effects\"\nimport { actions as videoLoadActions } from \"../reducers/reducer-video-load\";\nimport { actions as chatReplayActions} from \"../reducers/reducer-chat-replay\"\n\n\nexport const types = {\n    ON_PROGRESS_UPDATE: 'ON_PROGRESS_UPDATE',   \n};\n\nexport const actions = {  \n    onProgressUpdate: (seconds, vodID) => ({type: types.ON_PROGRESS_UPDATE, seconds: seconds, vodID: vodID})   \n}\n\nexport function* progressWatcherSaga(){\n    yield takeLatest(types.ON_PROGRESS_UPDATE, progressWorker);\n}\n\nfunction* progressWorker(action){   \n    yield put(videoLoadActions.setVideoProgress(action.seconds))\n    yield put(chatReplayActions.chatVideoProgress(action.seconds, action.vodID))\n    \n}\n","import {takeLatest, call, put, delay, select} from \"redux-saga/effects\"\nimport {types as chatReplayTypes, actions as chatReplayActions} from \"../reducers/reducer-chat-replay\";\nimport axios from 'axios';\n\nimport {chatBuffer} from '../reducers/reducer-chat-replay'\n\nexport function* chatReplayWatcherSaga(){\n    yield takeLatest(chatReplayTypes.CHAT_VIDEO_PROGRESS, chatReplayWorker);\n}\n\nvar lastTime = 0;\nvar cursor = \"\";\nvar lastBatchMaxTime = 0\nvar lastBatchMinTime = 0\n\nfunction* chatReplayWorker(action){  \n    const buffer = yield select(chatBuffer)    \n    if (buffer.length <=0 || Math.abs(lastTime - action.seconds)>5){        \n        var results = yield axios({\n            method: 'get',\n            url: `/api/comments/stream/${action.vodID}`,\n            params: {\n                content_offset_seconds: Math.floor(action.seconds)\n            }\n        })\n        .then( (response) => { return response.data} )\n        .catch( (error) => {console.log(error.response.data.message)})\n        \n        if(results){\n            yield put(chatReplayActions.setCommentsInBuffer(results.comments))\n            lastBatchMaxTime = Math.max(...results.comments.map(item=> item.content_offset_seconds))\n            lastBatchMinTime = Math.min(...results.comments.map(item=> item.content_offset_seconds))\n            cursor = results.next\n        }\n        \n    }\n    else if ( (lastBatchMaxTime-action.seconds)<10 && cursor!=\"\" ){\n        var results = yield axios({\n            method: 'get',\n            url: `/api/comments/stream/${action.vodID}`,\n            params: {\n                cursor: cursor\n            }\n        })\n        .then( (response) => { return response.data} )\n        .catch( (error) => {console.log(error.response.data.message)})\n\n        if(results){\n            yield put(chatReplayActions.addCommentsToBuffer(results.comments))\n            lastBatchMaxTime = Math.max( Math.max(...results.comments.map(item=> item.content_offset_seconds)), Math.max(...buffer.map(item=> item.content_offset_seconds)))\n            lastBatchMinTime = Math.min( Math.min(...results.comments.map(item=> item.content_offset_seconds)), Math.min(...buffer.map(item=> item.content_offset_seconds)))\n            cursor = results.next\n        }       \n    }\n\n    lastTime = action.seconds\n}","import { all } from 'redux-saga/effects'\nimport * as browseLoading from \"./sagas-browse-load\"\nimport * as videoLoading from \"./sagas-video-load\"\nimport * as search from \"./sagas-search\"\nimport * as clipping from \"./sagas-clipping\"\nimport * as progressRouter from \"./sagas-progress-router\"\nimport * as chatReplay from \"./sagas-chat-replay\"\n\nexport default function* rootSaga(){\n    yield all([\n        browseLoading.browseLoadWatcherSaga(),\n        search.searchWatcherSaga(),\n        clipping.clipWatcherSaga(),\n        videoLoading.videoLoadWatcherSaga(),\n        progressRouter.progressWatcherSaga(),\n        chatReplay.chatReplayWatcherSaga()\n    ])\n}","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from 'react-router-dom';\nimport { Responsive, Menu, Button, Container, Sidebar, Icon } from 'semantic-ui-react'\n\nclass MobileMenu extends React.Component {\n    state = {sidebarOpened:false}\n\n    handleSidebarHide = () => this.setState({ sidebarOpened: false })\n    handleToggle = () => this.setState({ sidebarOpened: !this.state.sidebarOpened })\n\n    render() {\n        const { sidebarOpened } = this.state\n        return (\n            <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n                <Sidebar\n                    as={Menu}\n                    animation='push'\n                    inverted\n                    onHide={this.handleSidebarHide}\n                    vertical\n                    visible={sidebarOpened}\n                >\n                    <Menu.Item> <h2>Menu</h2> </Menu.Item>\n                    <Link to=\"/\"> <Menu.Item > Home  </Menu.Item> </Link>\n                    {/*<Link to=\"/browse\"> <Menu.Item > Browse  </Menu.Item> </Link>*/}\n                    <Link to=\"/about\"> <Menu.Item> Contact Us </Menu.Item> </Link>\n                </Sidebar>\n                <Menu\n                    fixed='top'\n                    size='mini'\n                    inverted\n                    style={{ \"height\": \"40px\" }}\n                >\n                    <Menu.Item onClick={this.handleToggle}>\n                        <Icon name='sidebar' />\n                    </Menu.Item>\n                    <Menu.Item> <Link to=\"/\"> <h2>Clipply</h2> </Link> </Menu.Item>\n                    {/* TODO: Implement Login and Signup Buttons in the future */}\n                    {/* <Menu.Item position='right'>\n                        <Button as='a'>\n                            Log in\n                        </Button>\n                        <Button as='a' color='purple' style={{ marginLeft: '0.5em' }}>\n                            Sign Up\n                        </Button>\n                    </Menu.Item> */}\n                </Menu>\n            </Responsive>\n        )\n    }\n}\n\nclass DesktopMenu extends React.Component {\n    render() {\n        return (\n            <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n                <Menu\n                    fixed='top'\n                    size='small'\n                    inverted\n                    style={{ \"height\": \"40px\" }}\n                >\n                    <Menu.Item> <Link to=\"/\"> <h2>Clipply</h2> </Link> </Menu.Item>\n                    <Link to=\"/\"> <Menu.Item style={{height:'100%'}}> Home </Menu.Item> </Link>\n                    {/*<Link to=\"/browse\"> <Menu.Item style={{height:'100%'}}> Browse </Menu.Item> </Link>*/}\n                    <Link to=\"/about\"> <Menu.Item style={{height:'100%'}}> Contact Us </Menu.Item> </Link>\n                    {/* TODO: Implement Login and Signup Buttons in the future */}\n                    {/* <Menu.Item position='right'>\n                        <Button as='a'>\n                            Log in\n                        </Button>\n                        <Button as='a' color='purple' style={{ marginLeft: '0.5em' }}>\n                            Sign Up\n                        </Button>\n                    </Menu.Item> */}\n                </Menu>\n            </Responsive>\n        )\n    }\n}\n\nconst MenuBar = ({ children }) => {\n    return (\n        <div>\n            <DesktopMenu> </DesktopMenu>\n            <MobileMenu> </MobileMenu>\n        </div>\n    );\n};\n\nexport default MenuBar;\n","import styled from \"styled-components\";\n\nexport const TopLeftItemOverlay = styled.div`\n    position: absolute;\n    top: 5px;\n    bottom: 0;\n    left: 3px;\n    right: 0;\n    background-color: rgba(35, 35, 35, 0.5);  \n    border-radius: 3px;\n    color: #ffffff; \n    display: table;\n    padding:4px;  \n`\n\nexport const TopRightItemOverlay = styled.div`\n    position: absolute; \n    top: 5px;\n    bottom: 0;  \n    right: 3px;\n    background-color: rgba(35, 35, 35, 0.5);  \n    border-radius: 3px;\n    color: #ffffff; \n    display: table;\n    padding:4px;  \n`\n\nexport const EmptyFullOverlay = styled.div`\n    position: absolute;\n    width: 100%;\n    height:100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;    \n    background: ${props => props.blur ? \"rgba(0,0,0,0.6)\": \"none\"};    \n`\n\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\n//Components\nimport { Image, Grid, Header, Icon } from 'semantic-ui-react';\nimport {TopLeftItemOverlay, TopRightItemOverlay} from '../components/overlays'\n\nconst UserImage = styled(Image)`\n    position:absolute !important;\n    display:table;\n    bottom:1%;\n    right:1%;\n    margin:0.2em !important;\n    width:4em;\n    height:4em;\n`\n\nconst VodContainer = styled.div`\n    position:relative;\n    transition: all 0.2s;\n    \n    &:hover{\n       box-shadow: 3px 3px 10px rgba(0,0,0,0.45);\n       transform: scale(1.01,1.01);\n    }\n`\n\nconst VodContentContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start; \n    margin-top: 0.3em;   \n`\n\n\nclass BrowseVodGrid extends React.Component {    \n\n    render() {        \n        return (                        \n            <Grid padded centered>\n                {this.props.vods.slice(0, this.props.limit || this.props.vods.length).map(vod=>\n                    <Grid.Column mobile={16} tablet={8} computer={5} largeScreen={4} widescreen={4} key={vod.VodID}>\n                        <VodContainer>\n                            <Link to={`/videos/${vod.VodID}`}>  \n                                {vod.ThumbnailURL==\"\" ? (\n                                    <Image fluid src={`https://via.placeholder.com/720x480/2c004d/FFFFFF?text=${encodeURIComponent(vod.DisplayName)}`} />\n                                ):(\n                                    <Image fluid src={vod.ThumbnailURL.replace(\"%{width}\", \"720\").replace(\"%{height}\", \"480\")} />\n                                )}\n                                \n                            </Link>                            \n                            <TopLeftItemOverlay>\n                                <Icon name='play' size='small'/> {vod.Duration}\n                            </TopLeftItemOverlay>\n                            <TopRightItemOverlay>\n                                <Icon name='clock outline' />{vod.DateDiff}\n                            </TopRightItemOverlay>   \n                            <UserImage src={vod.ProfileImageURL} circular/>                           \n                        </VodContainer>     \n                        <VodContentContainer>\n                            <Image float=\"left\" src={vod.BoxArtURL.replace(\"{width}\", \"50\").replace(\"{height}\", \"70\")} />                   \n                            <Header as='h4' style={{textOverflow:\"ellipsis\", marginTop:\"0\", marginLeft:\"0.3em\"}}>\n                                {vod.Title}\n                                <Header.Subheader> {vod.DisplayName} </Header.Subheader>\n                                <Header.Subheader> {vod.Game} </Header.Subheader>\n                            </Header>                               \n                        </VodContentContainer>                                \n                    </Grid.Column>\n                )}\n            </Grid>             \n        );\n    }\n}\n\nexport default BrowseVodGrid;\n","import React from 'react';\nimport styled from 'styled-components';\n\n//Components\nimport { Grid, Dropdown } from 'semantic-ui-react';\n\nconst FilterDropdown = styled(Dropdown)`\n    border:2px darkgrey solid !important;    \n`\n\nclass BrowseVodFilters extends React.Component {    \n\n    render() {     \n        var gameFilters = (this.props.gameFilters || []).map(game => {\n            return {key:game, value:game, text:game}\n        })\n\n        var streamerFilters = (this.props.streamerFilters || []).map(streamer => {\n            return {key:streamer, value:streamer, text:streamer}\n        })   \n        return (                        \n            <Grid columns={2} padded>    \n                <Grid.Column>            \n                    <FilterDropdown \n                        placeholder='Filter By Streamer' \n                        fluid search selection clearable scrolling\n                        loading={this.props.isLoading}   \n                        options = {streamerFilters}\n                        onChange={(e, data)=>{this.props.onStreamerChange(data.value)}}                      \n                        value={this.props.streamerFilterValue}/>  \n                </Grid.Column>\n                <Grid.Column>\n                    <FilterDropdown \n                        placeholder='Filter By Game' \n                        fluid search selection clearable scrolling\n                        loading={this.props.isLoading}\n                        options = {gameFilters}\n                        onChange={(e, data)=>{this.props.onGameChange(data.value)}}\n                        value={this.props.gameFilterValue}/>\n                </Grid.Column>\n            </Grid>\n        );\n    }\n}\n\nexport default BrowseVodFilters;\n","export const copyright = \"2019\"\nexport const instagram = \"https://www.instagram.com/clipplyhighlights/?hl=en\"\nexport const youtube = \"https://www.youtube.com/channel/UCsgfIVZt26Fu1SiAYLkZKTA\"\nexport const email = \"mailto:clipplyinfo@gmail.com\"","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from 'react-router-dom';\nimport { Segment, Container, Icon, Grid, List, Header } from 'semantic-ui-react'\n\nimport * as constants from '../utils/constants'\n\nconst Footer = ({ children }) => {\n    return (\n        <Segment inverted vertical style={{ padding: '2em 0em'}}>\n            <Container>\n                <Grid divided inverted stackable centered>\n                    <Grid.Row style={{padding:\"0.5em\"}}>\n                        <Header as='h1' inverted>\n                            Clipply\n                        </Header>\n                    </Grid.Row>\n\n                    <Grid.Row style={{padding:\"0.5em\"}}>\n                        <List link inverted divided horizontal size='large'>\n                            <List.Item as='a'> <Link to=\"/\"> Home </Link></List.Item>\n                            {/*<List.Item as='a'> <Link to=\"/browse\">Browse </Link></List.Item>*/}\n                            <List.Item as='a'> <Link to=\"/about\"> Contact Us </Link></List.Item>\n                        </List>\n                    </Grid.Row>\n\n                    <Grid.Row style={{padding:\"0.5em\"}}>\n                        <List link inverted divided horizontal size='small'>\n                            <List.Item> <a href={constants.instagram}>  <Icon name='instagram'/> Instagram </a> </List.Item>\n                            <List.Item> <a href={constants.youtube}>  <Icon name='youtube'/> Youtube </a> </List.Item>\n                        </List>\n                    </Grid.Row>\n                    <Grid.Row style={{padding:\"0.2em\", fontSize:\"0.6em\"}}>\n                        © Clipply. {constants.copyright}.\n                    </Grid.Row>\n                </Grid>\n            </Container>\n        </Segment>\n    );\n};\n\n\nexport default Footer;\n","import React from 'react';\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\n//Components\nimport { Card, Icon, Image, CardGroup, Dropdown, Menu, Item, Dimmer, Loader, Segment } from 'semantic-ui-react'\nimport {TopLeftItemOverlay, TopRightItemOverlay} from '../components/overlays'\n\n//Actions\nimport { actions as loadBrowseActions } from \"../reducers/reducer-browse-load\";\n\n//Components\nimport BrowseVodGrid from '../components/browse-vod-grid'\nimport BrowseVodFilters from '../components/browse-vod-filters'\nimport Footer from '../components/footer'\n\nclass VodBrowser extends React.Component {\n\n  componentDidMount() {\n    this.props.loadBrowseVods();\n    window.scrollTo(0,0)\n  }\n\n  render() {\n    const {games, streamers, gameFilter, streamerFilter, vods, isBrowseLoading} = this.props.vodBrowse;\n    return (\n      <div>    \n        <BrowseVodFilters \n          isLoading={isBrowseLoading}\n          gameFilters={games}\n          streamerFilters={streamers}\n          gameFilterValue = {gameFilter}\n          streamerFilterValue = {streamerFilter}\n          onStreamerChange = {this.props.changeStreamerFilter}\n          onGameChange = {this.props.changeGameFilter}\n        />\n        <BrowseVodGrid vods = {vods}/>\n\n        <div style={{paddingTop:\"1em\"}}>\n          <Footer/>\n        </div>\n      </div>\n    )\n  }\n}\n// Map Redux State and Actions to component props\nfunction mapStateToProps(state) {\n  return {\n    vodBrowse: state.vodBrowse\n  }\n}\n\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      ...loadBrowseActions\n    },\n    dispatch\n  )\n}\n\nexport default connect(mapStateToProps, matchDispatchToProps)(VodBrowser);\n","import React from 'react';\n\nimport ReactPlayer from 'react-player';\n\nclass VideoPlayer extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      playing: false\n    }\n  }\n\n  ref = player => {\n    this.player = player;\n  };\n\n  render() {    \n    return (\n      <ReactPlayer\n        ref={this.ref}\n        url={this.props.url}\n        width=\"100%\"\n        height={this.props.height || \"25%\"}    \n        playing={this.state.playing}    \n        progressInterval={500}\n        onProgress={ (progress) => {this.props.onVideoProgress && this.props.onVideoProgress(progress.playedSeconds)}}\n        onDuration={ (duration) => {this.props.onVideoDuration && this.props.onVideoDuration(duration)}}\n      />\n    );\n  }  \n\n  componentDidUpdate(prevProps) {\n    if (prevProps.contentOffset !== this.props.contentOffset) {\n      this.seekTo(this.props.contentOffset);\n    }\n  }\n\n  seekTo = (contentOffset) => {    \n    this.player.seekTo(contentOffset);\n    if (contentOffset){\n      // There is currently a bug where on the first seek, the video will look like its playing\n      // but there will actually be now playback. The user has to seek again in order for it \n      // to start playing. This is a bit jarring, so for now we defer to the user to control\n      // the playback at all times.\n      // this.setState({...this.state, playing:true})\n    }    \n  }\n}\n\nexport default VideoPlayer;\n","import React from 'react';\nimport styled from 'styled-components';\n\n//Components\nimport { Input, Segment, Header, Icon, Popup, Dropdown, Label, Form, Button, Grid } from 'semantic-ui-react';\n\nclass SearchBar extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            query:\"\",\n            userFilters:[]           \n        }\n    }\n\n    //Events\n    onAddSearch = () => {\n        if (this.props.onAddSearch){\n            this.props.onAddSearch({\n                query: this.state.query,\n                userFilters: this.state.userFilters\n            })\n        }            \n    }\n    onSearchKeyPress = (e) => {\n        if (e.keyCode == 13){\n            this.onAddSearch()\n        }\n    }\n    onSearchChange = (e, data) =>{\n        this.setState({...this.state, query: data.value});\n    }\n\n    render() {        \n        return (                        \n            <Input \n                fluid\n                onKeyDown={this.onSearchKeyPress} \n                onChange={this.onSearchChange}\n                action={{ icon: 'plus', color:'purple', onClick:this.onAddSearch, loading:this.props.loading, disabled:this.props.loading }}\n                value={this.state.query}\n                placeholder={this.props.placeholder || 'Search Term ...'} \n            />                 \n        );\n    }\n}\n\nexport default SearchBar;\n","export const formatTime = (seconds) => {       \n    var h = Math.floor(seconds / 3600).toString().padStart(2,'0')\n    var m = Math.floor(seconds % 3600 / 60).toString().padStart(2,'0')\n    var s = Math.floor(seconds % 3600 % 60).toString().padStart(2,'0')\n\n    return [h,m,s].join(':')\n}\n\nexport const formatDuration = (seconds, hl='hour', ml='minute', sl='second', pluralize=true) =>{\n    var h = Math.floor(seconds / 3600)\n    var m = Math.floor(seconds % 3600 / 60)\n    var s = Math.floor(seconds % 3600 % 60)\n\n    var hs ='', ms='', ss=''\n\n    if (h>0){\n        hs = `${h} ${hl}${ (h>1&&pluralize)?'s':''}`\n    }\n    if (m>0){\n        ms = `${m} ${ml}${ (m>1&&pluralize)?'s':''}`\n    }\n    if (s>0){\n        ss = `${s} ${sl}${ (s>1&&pluralize)?'s':''}`\n    }\n\n    return [hs,ms,ss].join(' ')\n}","import React from 'react';\nimport styled from 'styled-components';\nimport {formatTime} from '../utils/string-utils'\n\n//Components\nimport { Header, Button } from 'semantic-ui-react';\nimport _ from 'lodash'\nimport AliceCarousel from 'react-alice-carousel';\nimport \"react-alice-carousel/lib/alice-carousel.css\"\n\nconst HighlightItem = styled.div`\n    display: flex;\n    align-items: center;\n    flex-direction:column;\n    justify-content: center;\n    border: 1px solid lightgrey;\n    border-radius:5px;\n    padding: 5px;\n    margin: 3px;  \n    font-family: Lato,'Helvetica Neue',Arial,Helvetica,sans-serif;\n    transition: color 0.3s;\n    transition: background 0.3s;\n\n    &:hover{\n        background:lightgrey;  \n        cursor:pointer;\n    }\n    &:active{\n        background:grey;  \n    }\n`\nconst TimeStamp = styled.div`\n    font-size: 1.2em;\n    font-weight: bold;\n`\nconst HitCounter = styled.div`\n    font-variant: small-caps;\n`\nconst TopHeader = styled.div`\n    display:flex;\n    justify-content: space-between;\n    align-items:center;   \n    margin-bottom: 2px;\n`\n\nclass TopSearchResults extends React.Component {\n    constructor(props){\n        super(props);           \n    }\n\n    seekTo = (seconds) =>{       \n        if (this.props.seekTo){\n            this.props.seekTo(seconds)\n        }        \n    }\n\n    renderTopComments = highlights =>{\n        const handleOnDragStart = e => e.preventDefault()\n        return highlights.map( (b,idx) => {\n            return (\n                <HighlightItem key={idx} onDragStart={handleOnDragStart} onClick={()=>this.seekTo(b.val)}>                    \n                    <TimeStamp> ~ {formatTime(b.val)} </TimeStamp>\n                    <HitCounter> {b.count} comments </HitCounter>        \n                </HighlightItem>\n            )\n        })\n    }    \n    \n    render() {        \n        const highlights = this.props.topHighlights\n\n        return (    \n            <div style={{'paddingBottom':'10px', 'borderBottom':'1px solid lightgray ' }}>\n                <TopHeader> \n                    <div>                         \n                        {this.props.query==\"\" ? (\n                            <span> Showing top timestamps overall </span>\n                        ):(\n                            <span> Showing top timestamps for <span style={{color:'#a333c8', fontWeight:'bold'}}> {this.props.query} </span> </span>\n                        )}\n                    </div>\n                    <Button.Group size='mini'>\n                        <Button onClick={()=>this.Carousel._slidePrev()} icon='angle left'/> \n                        <Button onClick={()=>this.Carousel._slideNext()} icon='angle right'/>\n                    </Button.Group>\n                </TopHeader>            \n                <AliceCarousel ref={el=> this.Carousel=el} buttonsDisabled dotsDisabled infinite={false} responsive={{540: { items: 3 }}} >\n                   {this.renderTopComments(highlights)}\n                </AliceCarousel>\n               \n            </div>\n        );\n    }\n}\n\nexport default TopSearchResults;\n","import React from 'react';\nimport styled from 'styled-components';\n\n//Components\nimport { Icon, Accordion, Button, Checkbox, Popup, Label } from 'semantic-ui-react';\nimport TopSearchResults from '../components/search-top-results'\n\nconst ResultTitle = styled.div`\n    display:flex;\n    justify-content: space-between;\n    align-items:center;\n    padding-bottom:3px;\n    border-bottom: 1px dotted gray;\n`\n\nclass SearchResults extends React.Component {\n    constructor(props){\n        super(props);     \n        this.state = {inActiveIds: []}    \n    }\n    handleClick = (id) =>{       \n        const {inActiveIds} = this.state\n        \n        if (inActiveIds.includes(id)){\n            this.setState({inActiveIds: inActiveIds.filter(val => val!=id)})\n        }else{\n            this.setState({inActiveIds: [...inActiveIds, id]})\n        }\n    }   \n\n    render() {        \n        const {inActiveIds} = this.state;\n        \n        return (                \n            <Accordion fluid styled exclusive={false}>\n                {\n                    Object.keys(this.props.results).map( (key,idx) =>{\n                        const res = this.props.results[key]\n                        return (\n                            <React.Fragment key={idx}>\n                                <Accordion.Title active={!inActiveIds.includes(key)} index={idx} style={{'padding':'5px','paddingBottom':'0px', 'borderTop':'3px ridge navy'}} onClick={()=>this.handleClick(key)}>\n                                    <ResultTitle>\n                                        <div>\n                                            <Icon name='dropdown' />                                        \n                                            {res.query ==\"\" ? 'All Comments': res.query}  \n                                        </div>                                     \n                                        <div>    \n                                            {res.userFilters.length >0 &&   \n                                                <Popup trigger={<Icon name='filter' color='green'/>}>  \n                                                    <label> User Filters Applied </label>\n                                                    <div>\n                                                        { res.userFilters.map( (user,idx) => {\n                                                            return (<Label key={idx}> {user} </Label>)\n                                                        })}\n                                                    </div>\n                                                </Popup>\n                                            }\n                                                    \n                                            <Button.Group size='tiny'>                            \n                                                <Button\n                                                    icon='close'\n                                                    label={{ basic: true, content: res.totalResults + \" hits\", pointing:false }}\n                                                    labelPosition='left'\n                                                    compact  size='mini'\n                                                    color='red'\n                                                    onClick={()=>{this.props.onRemoveSearch(key)}}\n                                                />   \n                                                                                       \n                                            </Button.Group>\n                                        </div>\n                                    </ResultTitle>                                        \n                                                           \n                                </Accordion.Title>\n                                <Accordion.Content active={!inActiveIds.includes(key)} style={{clear:'both', padding:'0.5em'}}>                                    \n                                    <TopSearchResults topHighlights={res.topHighlights} query={res.query} seekTo={this.props.seekTo}/>                                    \n                                </Accordion.Content>\n                            </React.Fragment>\n                        )\n                    })\n                }\n            </Accordion>\n        );\n    }\n}\n\nexport default SearchResults;\n","import React from 'react';\nimport styled from 'styled-components';\n\n//Components\nimport { Button, Header, Label } from 'semantic-ui-react';\n\nclass TermHolder extends React.Component{\n    constructor(props){\n        super(props);   \n        this.state = {\n            hover: false\n        }\n    }  \n\n    render(){        \n        return (\n            <Button \n                disabled={this.props.loading}  \n                onClick={this.props.onClick}\n                onMouseEnter={()=>this.setState({hover:true})} \n                onMouseLeave={()=>this.setState({hover:false})}\n                size='mini' style={{margin:'3px'}}  as='div' labelPosition='right'\n            >                   \n                <Term active={this.props.active} ishovered={this.state.hover?1:0}>                        \n                    {this.props.query}\n                </Term>\n                <Count active={this.props.active}  basic ishovered={this.state.hover?1:0}>\n                    {this.props.count} Hits\n                </Count>\n            </Button>  \n        )\n    }\n   \n}\nconst Term = styled(Button)`\n    border-radius: 3em 0 0em 3em !important;\n    background: ${props => props.active ? (props.ishovered ?\"rgba(225,200,224,0.5)\": \"rgba(225,200,224,1)\"):(props.ishovered ?\"rgba(225,200,224,0.5)\": \"white\")} !important;\n    color: rgb(112,61,156) !important;\n    padding: 0.3em 1em 0.3em 1em !important;    \n    font-weight:bolder !important;\n    border: solid 1.2px ${props=> props.ishovered ? \"black\": (props.active?\"grey\": \"lightgrey\")} !important;\n   \n`\nconst Count = styled(Label)`\n    border-radius: 0 3em 3em 0 !important;   \n    background: ${props => props.active ? (props.ishovered ?\"rgba(225,200,224,0.5)\": \"rgba(225,200,224,1)\"):(props.ishovered ?\"rgba(225,200,224,0.5)\": \"white\")} !important;\n    color: rgb(112,61,156) !important;   \n    border: solid 1.2px ${props=> props.ishovered ? \"black\":  (props.active?\"grey\": \"lightgrey\")} !important;\n    font-weight:900 !important;\n`\n\n\nclass TopComments extends React.Component {\n    constructor(props){\n        super(props);       \n    }    \n    \n    renderHighlightTerms = (selectedTerms, topTerms) => {        \n        if (!selectedTerms || !topTerms) return;\n        let selected =  selectedTerms.map( term => {\n            return (    \n                <TermHolder \n                    loading={this.props.loading}\n                    key={term.id} \n                    active \n                    query={term.query} \n                    count={term.count} \n                    onClick={()=>this.props.removeSearch(term.id)}\n                />                \n            )\n        })\n        let top = topTerms.map( (term,idx) => {\n            return (                \n                <TermHolder \n                    loading={this.props.loading}\n                    key={idx}\n                    query={term.query} \n                    count={term.count} \n                    onClick={()=>this.props.addSearch({query:term.query, userFilters:[] })}\n                />              \n            )\n        })\n        return selected.concat(top)        \n    }\n\n    render() {                  \n        return (  \n            <div>\n                <Header style={{marginBottom:\"0.5em\", marginTop:\"0.5em\"}}>\n                    Select Top Comments \n                </Header>\n                {this.renderHighlightTerms(this.props.selectedTerms, this.props.topTerms)}                                   \n            </div>           \n                   \n        );\n    }\n}\n\nexport default TopComments;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux';\n\n//Components\nimport { Segment, Header, Icon, Button } from 'semantic-ui-react';\nimport SearchBar from '../components/search-bar'\nimport SearchResults from '../components/search-results'\nimport TopComments from '../components/search-top-comments'\n\n//Actions\nimport { actions as searchActions } from \"../reducers/reducer-search\";\n\nclass SearchTab extends React.Component {\n    constructor(props){\n        super(props);        \n    }\n    onAddSearch = (request) => {        \n        this.props.addSearch(this.props.vodID, request.query, request.userFilters)\n    }\n    onRemoveSearch = (id) =>{\n        this.props.removeSearchResult(id);\n    }\n    renderSearchResults = (results) =>{\n        if (Object.keys(results).length ==0){\n            return (\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name='search' />\n                        Search for Chat Highlights\n                        <Header.Subheader>Find specific phrases that appear in your video and use the timeline to navigate between them</Header.Subheader>\n                    </Header>                                  \n                </Segment> \n            )\n        }\n\n        return(\n            <div style={{marginTop:\"1em\"}}>    \n                <Header as='h3'>\n                    Top Timestamps\n                </Header>                  \n                <SearchResults results={results} onRemoveSearch={this.onRemoveSearch} seekTo={this.props.seekTo} />             \n            </div>           \n        )      \n    }\n\n    \n\n    render() {   \n        const {searchResults, topComments} = this.props.search;   \n\n        const selectedTerms = Object.keys(searchResults).map(key=>{\n            const res = searchResults[key]\n            return {\n                query: res.query==\"\" ? \"All\": res.query,\n                count: res.totalResults,\n                id: key\n            }\n        })\n\n        const selectedQueries = selectedTerms.map(term=> term.query)\n\n        const topTerms =topComments.filter(comment=>{\n            return !selectedQueries.includes(comment.Val)\n        }).map(comment=>{\n            return {\n                query: comment.Val,\n                count: comment.Count\n            }\n        })\n\n        return (\n            <div>     \n                <SearchBar \n                    onAddSearch={this.onAddSearch} \n                    userFilters={[\"joe\", \"Nightbot\"]}                    \n                    loading= {this.props.search.isLoading}\n                    placeholder = {\"Add your own popular comments like \\\"pogchamp\\\"...\"}\n                />   \n                <TopComments \n                    removeSearch={this.onRemoveSearch}\n                    addSearch={this.onAddSearch}\n                    selectedTerms= {selectedTerms}\n                    topTerms = {topTerms}\n                    loading={this.props.search.isLoading}\n                />                         \n                {this.renderSearchResults(searchResults)}                                 \n            </div>\n        );\n    }\n}\n\n// Map Redux State and Actions to component props\nfunction mapStateToProps(state) {\n  return {\n    search: state.search\n  }\n}\n\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      ...searchActions\n    },\n    dispatch\n  )\n}\n\n\n\nexport default connect(mapStateToProps, matchDispatchToProps)(SearchTab);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux';\nimport {formatTime, formatDuration} from '../utils/string-utils'\n\n//Components\nimport { Segment, Header, Icon, Item, Image, Label, Button, Statistic } from 'semantic-ui-react';\n\n//Actions\nimport { actions as clippingActions } from \"../reducers/reducer-clipping\";\n\nconst ThumbnailImage = styled.div`   \n    margin: 0px 5px 0px 0px;\n    width: ${props => props.width ? `${props.width}px` : '220px'};\n    height:${props => props.height ? `${props.height}px` : '140px'};\n    background-size: ${props=> (props.x>=0 && props.y>=0) ? 'initial': 'contain'};\n    background-position: ${props => (props.x>=0 && props.y>=0) ? `-${props.x}px -${props.y}px`: 'center'};\n    background-image: ${props => props.url ? `url(\"${props.url}\")` : `url(\"https://react.semantic-ui.com/images/wireframe/image.png\")`};\n`\n\nclass ClipTab extends React.Component {\n    constructor(props){\n        super(props);        \n    }\n   \n    renderClips = (results) =>{\n        if (Object.keys(results).length ==0){\n            return (\n                <Segment placeholder>\n                    <Header icon>\n                        <Icon name='clipboard list' />\n                        Your Clips \n                        <Header.Subheader>Use the timeline to find and clip parts of the video to save for later</Header.Subheader>\n                    </Header>                                  \n                </Segment> \n            )\n        }\n\n        return(\n            <div>\n                <Segment textAlign='center'>\n                    \n                    <Statistic style={{margin:'0px'}}size='mini'>\n                        <Statistic.Value>{Object.keys(results).length}</Statistic.Value>\n                        <Statistic.Label>Clips</Statistic.Label>\n                    </Statistic>\n\n                    <Statistic size='mini'>\n                        <Statistic.Value> \n                            <Icon name='clock outline' />\n                            {\n                                formatDuration\n                                (\n                                    Object.keys(results).map( (val)=>{\n                                        return results[val].right - results[val].left\n                                    }).reduce( (total,val)=> {return total+val})\n                                , 'hour','min','sec')\n                            }\n                        </Statistic.Value>\n                        <Statistic.Label>Total Duration</Statistic.Label>\n                    </Statistic>                   \n                                \n                </Segment> \n                <Item.Group divided>\n                    {\n                        Object.keys(results).map( (key,idx)  => {\n                            const clip = results[key]\n                            const {thumbnail} = clip                            \n                            return (\n                                <Item key={idx}>\n                                    {thumbnail ? (\n                                        <ThumbnailImage width={thumbnail.width} height={thumbnail.height} x={thumbnail.xOffset} y={thumbnail.yOffset} url={thumbnail.url}/>      \n                                    ):(\n                                        <ThumbnailImage/>      \n                                    )}\n                                    \n                                    <Item.Content>\n                                        <Item.Header>{formatTime(clip.left)} - {formatTime(clip.right)}</Item.Header>\n                                        <Item.Meta>\n                                            <span className='cinema'>{formatDuration(clip.right-clip.left)}</span>\n                                        </Item.Meta>\n                                        <Item.Description>                                            \n                                            <Button \n                                                icon size='mini' labelPosition='left'\n                                                onClick={()=>{this.props.seekTo(clip.left)}}\n                                            >\n                                                Play \n                                                <Icon name='play' />                                                                                               \n                                            </Button>\n                                            <Button \n                                                icon size='mini' labelPosition='left'\n                                                onClick={()=>{this.props.deleteClip(key)}}\n                                            >\n                                                Delete\n                                                <Icon color='red' name='trash' />                                                \n                                            </Button>\n                                        </Item.Description>\n                                        <Item.Extra>                                           \n                                            \n                                        </Item.Extra>\n                                    </Item.Content>\n                                </Item>\n                            )\n                        })\n                    }\n                </Item.Group>\n\n            </div>           \n        )      \n    }\n\n    render() {   \n        const {clips} = this.props.vodClips;      \n        return (\n            <div>                    \n                \n               {this.renderClips(clips)}\n                                 \n            </div>\n        );\n    }\n}\n\n// Map Redux State and Actions to component props\nfunction mapStateToProps(state) {\n  return {\n    vodClips: state.vodClips\n  }\n}\n\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      ...clippingActions\n    },\n    dispatch\n  )\n}\n\n\n\nexport default connect(mapStateToProps, matchDispatchToProps)(ClipTab);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux';\nimport {formatTime, formatDuration} from '../utils/string-utils'\n\n//Components\nimport { List, Segment, Header, Icon, Label } from 'semantic-ui-react';\n\n\nclass ChatTab extends React.Component {\n    constructor(props){\n        super(props);        \n    }\n   \n    renderChat = (chatBuffer, currentProgress) =>{     \n        var filteredMessages = chatBuffer.filter(item=> item.content_offset_seconds <= currentProgress+1) \n        return (\n            <div>                 \n                <Header> Total Chat: {filteredMessages.length}</Header>\n                <List>\n                    {filteredMessages.map( (item,idx) => {\n                        return (\n                            <List.Item key={idx}> \n                                <Label horizontal color='grey'> {formatTime(item.content_offset_seconds)} </Label>\n                                <font color={item.message_user_color}> {item.commenter_display_name} </font>:                        \n                                {item.message_body}                                 \n                            </List.Item>\n                        )\n                    })}\n                </List>\n                <div style={{ float:\"left\", clear: \"both\" }}\n                    ref={(el) => { this.messagesEnd = el; }}>\n                </div>\n            </div>\n        )               \n    }\n    scrollToBottom = () => {\n        this.messagesEnd.scrollIntoView({ behavior: \"smooth\" });\n    }\n\n    componentDidMount() {\n        this.scrollToBottom();\n    }\n\n    componentDidUpdate() {\n        this.scrollToBottom();\n    }\n\n    render() {   \n        const {chatBuffer} = this.props.vodChat\n        const {currentProgress} = this.props.vodInfo\n        return (\n            <div>            \n               {this.renderChat(chatBuffer, currentProgress)}\n            </div>\n        );\n    }\n}\n\n// Map Redux State and Actions to component props\nfunction mapStateToProps(state) {\n  return {\n    vodChat: state.vodChat,\n    vodInfo: state.vodInfo\n  }\n}\n\nexport default connect(mapStateToProps)(ChatTab);\n","/**\n  Our TimelineScrub Component. Much of this code is borrowed from \n  ReacVis's Highlight component: https://github.com/uber/react-vis/blob/master/src/plot/highlight.js\n  We modify the component to add functionality of a timeline (seeking and playback indicators)\n */\n\nimport React from 'react';\nimport AbstractSeries from 'react-vis/dist/plot/series/abstract-series'\nimport {getAttributeScale} from 'react-vis/dist/utils/scales-utils';\nimport {formatTime} from '../utils/string-utils'\n\nclass TimeLineScrub extends AbstractSeries {\n  state = {\n    dragging: false,\n    brushArea: {top: 0, right: 0, bottom: 0, left: 0},\n    brushing: false,\n    panning: false,\n    resizing: false,\n    startLocX: 0,\n    startLocY: 0,\n    dragArea: null,\n    preview:0\n  };\n\n  getLocs(evt) {\n    const xLocN = evt.type === 'touchstart' ? evt.pageX : evt.offsetX;\n    const yLocN = evt.type === 'touchstart' ? evt.pageY : evt.offsetY; \n    const xScale = getAttributeScale(this.props, 'x');\n    const yScale = getAttributeScale(this.props, 'y');\n    const {marginLeft, marginTop} = this.props;\n    const xLoc = xScale.invert(xLocN - marginLeft);\n    const yLoc = yScale.invert(yLocN - marginTop)      \n    return {xLoc, yLoc};\n  }\n\n  _getDrawArea(xLoc, yLoc) {\n    const {startLocX, startLocY} = this.state;\n    const {\n      enableX,\n      enableY,\n      highlightWidth,\n      highlightHeight,\n      innerWidth,\n      innerHeight,\n      marginLeft,\n      marginRight,\n      marginBottom,\n      marginTop\n    } = this.props;\n    const plotHeight = innerHeight + marginTop + marginBottom;\n    const plotWidth = innerWidth + marginLeft + marginRight;\n    const touchWidth = highlightWidth || plotWidth;\n    const touchHeight = highlightHeight || plotHeight;\n\n    const xScale = getAttributeScale(this.props, 'x');\n    const yScale = getAttributeScale(this.props, 'y');\n    const maxWidth = xScale.invert(innerWidth);\n    const minHeight = yScale.invert(innerHeight);\n    const maxHeight = yScale.invert(0);    \n\n    return {\n      bottom: enableY ? Math.max(startLocY, yLoc) : minHeight,\n      right: enableX ? Math.max(startLocX, xLoc) : maxWidth,\n      left: enableX ? Math.min(xLoc, startLocX) : 0,\n      top: enableY ? Math.min(yLoc, startLocY) : maxHeight\n    };\n  }\n\n  _getDragArea(xLoc, yLoc) {\n    const {enableX, enableY} = this.props;\n    const {startLocX, startLocY, dragArea} = this.state;    \n\n    return {\n      bottom: dragArea.bottom + (enableY ? yLoc - startLocY : 0),\n      left: dragArea.left + (enableX ? xLoc - startLocX : 0),\n      right: dragArea.right + (enableX ? xLoc - startLocX : 0),\n      top: dragArea.top + (enableY ? yLoc - startLocY : 0)\n    };\n  }\n\n  _clickedOutsideDrag(xLoc, yLoc) {\n    const {enableX, enableY} = this.props;\n    const {\n      dragArea,\n      brushArea: {left, right, top, bottom}\n    } = this.state;\n    const clickedOutsideDragX = dragArea && (xLoc < left || xLoc > right);\n    const clickedOutsideDragY = dragArea && (yLoc < top || yLoc > bottom);\n    if (enableX && enableY) {\n      return clickedOutsideDragX || clickedOutsideDragY;\n    }\n    if (enableX) {\n      return clickedOutsideDragX;\n    }\n    if (enableY) {\n      return clickedOutsideDragY;\n    }\n    return true;\n  }\n  \n  startBrushing(e) {\n    const {onBrushStart, onDragStart, drag} = this.props;\n    const {dragArea} = this.state;\n    const {xLoc, yLoc} = this.getLocs(e.nativeEvent); \n       \n    const startArea = (dragging, resetDrag) => {\n      const emptyBrush = {\n        bottom: yLoc,\n        left: xLoc,\n        right: xLoc,\n        top: yLoc\n      };\n      this.setState({\n        ...this.state,\n        dragging,\n        brushArea: dragArea && !resetDrag ? dragArea : emptyBrush,\n        brushing: !dragging,\n        startLocX: xLoc,\n        startLocY: yLoc\n      });\n    };\n\n    const clickedOutsideDrag = this._clickedOutsideDrag(xLoc, yLoc);\n    if ((drag && !dragArea) || !drag || clickedOutsideDrag) {\n      startArea(false, clickedOutsideDrag);\n\n      if (onBrushStart) {\n        onBrushStart(e);\n      }\n      return;\n    }\n\n    if (drag && dragArea) {\n      startArea(true, clickedOutsideDrag);\n      if (onDragStart) {\n        onDragStart(e);\n      }\n    }\n  }\n\n  stopBrushing(e) {\n    const {brushing, dragging, brushArea} = this.state;\n    // Quickly short-circuit if the user isn't brushing in our component\n    if (!brushing && !dragging) {\n      return;\n    }\n    const {onBrushEnd, onDragEnd, drag} = this.props;\n    const noHorizontal = Math.abs(brushArea.right - brushArea.left) < 5;\n    const noVertical = Math.abs(brushArea.top - brushArea.bottom) < 0.5;\n   \n    // Invoke the callback with null if the selected area was < 5px\n    const isNulled = noVertical || noHorizontal;\n    // Clear the draw area\n    this.setState({\n      brushing: false,\n      dragging: false,\n      brushArea: drag ? brushArea : {top: 0, right: 0, bottom: 0, left: 0},\n      startLocX: 0,\n      startLocY: 0,\n      dragArea: drag && !isNulled && brushArea\n    });\n\n    if (brushing && onBrushEnd) {     \n      onBrushEnd(!isNulled ? brushArea : null);\n    }\n\n    if (drag && onDragEnd) {\n      onDragEnd(!isNulled ? brushArea : null);\n    }\n  }\n\n  onBrush(e) {\n    const {onBrush, onDrag, drag} = this.props;\n    const {brushing, dragging} = this.state;\n    const {xLoc, yLoc} = this.getLocs(e.nativeEvent);\n    if (brushing) {\n      const brushArea = this._getDrawArea(xLoc, yLoc);\n      this.setState({brushArea});\n\n      if (onBrush) {\n        onBrush(brushArea);\n      }\n    }\n\n    if (drag && dragging) {\n      const brushArea = this._getDragArea(xLoc, yLoc);\n      this.setState({brushArea});\n      if (onDrag) {\n        onDrag(brushArea);\n      }\n    }\n  }\n\n  // Timeline Navigation\n  onNavigate(e){\n    const {xLoc, yLoc} = this.getLocs(e.nativeEvent);    \n    const {onNavigate, drag} = this.props;    \n    const {brushing, dragging, brushArea} = this.state;\n\n    const cancelled = (Math.abs(brushArea.right - brushArea.left) > 1 && !drag);\n    \n    if (!cancelled){        \n      var navPoint = xLoc;\n      if (drag){        \n        if (Math.abs(this.state.startLocX - xLoc)>0){  // If we have changed the drag area           \n          navPoint = brushArea.left     \n        }\n        else if (this.state.resizing){ // If the drag area wasn't changed but we clicked the resizer\n          navPoint = brushArea.left\n        }\n      }        \n      if (onNavigate){\n        onNavigate(navPoint)\n      } \n      this.setState({desiredPos: navPoint})     \n    }     \n  }\n  onNavigatePreview(e){\n    const {xLoc, yLoc} = this.getLocs(e.nativeEvent);       \n    this.setState({preview: xLoc})            \n  }\n\n  // Timeline Panning\n  startPanning(e){      \n    const { enableX, enableY } = this.props; \n    const { xLoc, yLoc } = this.getLocs(e.nativeEvent);  \n    this.setState({       \n      startLocX: xLoc,\n      startLocY: yLoc,\n      panning:true\n    });\n  }\n  stopPanning(e){\n    this.setState({panning:false})\n  }\n  pan(e){\n    const {onPan} = this.props;\n    if (this.state.panning){\n      const { startLocX, startLocY } = this.state;\n      const { enableX, enableY } = this.props; \n      const { xLoc, yLoc } = this.getLocs(e.nativeEvent);  \n      const panData = {\n        vertical: enableY ? startLocY - yLoc : 0,\n        horizontal: enableX ? startLocX - xLoc : 0\n      }\n      if (onPan){\n        onPan(panData)\n      }\n    }   \n  }\n\n  // Brush area resizing events\n  startResize(e, intervalPos){\n    const { xLoc, yLoc } = this.getLocs(e.nativeEvent);  \n    this.setState({       \n      startLocX: xLoc,      \n      resizing:true,\n      intervalPos: intervalPos\n    });\n  }\n  stopResize(e){        \n    this.setState({resizing:false})   \n  }\n  resize(e){\n    const { xLoc, yLoc } = this.getLocs(e.nativeEvent);  \n    if (this.state.resizing){\n      if(this.state.intervalPos == \"right\"){\n        const newRight = Math.max(this.state.brushArea.left, xLoc)\n        this.setState({brushArea:{...this.state.brushArea, right: newRight}, dragArea:{...this.state.dragArea, right: newRight}})\n      }     \n      else if(this.state.intervalPos == \"left\"){\n        const newLeft = Math.min(this.state.brushArea.right, xLoc)\n        this.setState({brushArea:{...this.state.brushArea, left: newLeft}, dragArea:{...this.state.dragArea, left: newLeft}})\n      }      \n    }\n  }\n\n  // Component Lifecycle Events\n  componentDidUpdate(prevProps){\n    if ( Math.abs(this.props.cursor - this.state.desiredPos) < 20){\n      this.setState({desiredPos:null})\n    }\n    if ( (this.props.drag != prevProps.drag) && this.props.drag==false){\n      this.setState({brushArea : {top: 0, right: 0, bottom: 0, left: 0}})\n    }\n  }\n\n  // Mouse Events\n  onMouseDown(e){\n    if (this.props.panning || e.button == 2){\n      this.startPanning(e)\n    } \n    else if (this.state.resizing){\n      this.resize(e)\n    }\n    else{\n      this.startBrushing(e)\n    }    \n  }\n  onMouseMove(e){    \n    this.pan(e);    \n    this.resize(e)\n    this.onBrush(e);        \n    this.onNavigatePreview(e);\n  } \n  onMouseUp(e){\n    if (this.state.panning){\n      this.stopPanning(e)      \n    }\n    else if (this.state.resizing){\n      this.onNavigate(e)      \n      this.stopResize(e)          \n    }    \n    else{\n      this.stopBrushing(e);\n      this.onNavigate(e)\n    }\n  }\n  onMouseLeave(e){    \n    this.stopPanning(e)  \n    this.stopBrushing(e)      \n  }\n\n  // Public Reference Accessor methods\n  getClipArea = () =>{    \n    if (this.state.brushArea){      \n      if(Math.abs(this.state.brushArea.left - this.state.brushArea.right) >0){        \n        return this.state.brushArea\n      }\n    }\n    return null;\n  }\n\n  render() {\n    const {\n      color,\n      className,\n      highlightHeight,\n      highlightWidth,\n      highlightX,\n      highlightY,\n      innerWidth,\n      innerHeight,\n      marginLeft,\n      marginRight,\n      marginTop,\n      marginBottom,\n      opacity\n    } = this.props;\n    var {\n      brushArea: {left, right, top, bottom}\n    } = this.state;\n\n    const xScale = getAttributeScale(this.props, 'x');\n    const yScale = getAttributeScale(this.props, 'y');\n\n    let leftPos = 0;\n    if (highlightX) {      \n      leftPos = xScale(highlightX);\n    }\n\n    let topPos = 0;\n    if (highlightY) {      \n      topPos = yScale(highlightY);\n    }\n\n    const plotWidth = marginLeft + marginRight + innerWidth;\n    const plotHeight = marginTop + marginBottom + innerHeight;\n    const touchWidth = highlightWidth || plotWidth;\n    const touchHeight = highlightHeight || plotHeight;\n\n    //Convert all required display values to screen coordinates from domain coordinates.\n    left = xScale(left) + marginLeft\n    right = xScale(right) + marginLeft\n    if (!this.props.enableY){\n      bottom = touchHeight\n      top = 0\n    }else{\n      bottom = yScale(bottom) + marginTop\n      top = yScale(top)\n    }   \n   \n    const cursorPos = xScale(this.props.cursor) + marginLeft;\n    var desiredPos = this.state.desiredPos &&  ( xScale(this.state.desiredPos) + marginLeft )     \n    var previewPos = xScale(this.state.preview) + marginLeft;\n    \n    return (\n      <g\n        transform={`translate(${leftPos}, ${topPos})`}\n        cursor={ (this.props.panning || this.state.panning) ? 'grab' : 'auto'}\n        className={`${className} rv-highlight-container`}\n      >\n        <rect\n          className=\"rv-mouse-target\"\n          fill=\"black\"\n          opacity=\"0\"\n          x=\"0\"\n          y=\"0\"\n          width={Math.max(touchWidth, 0)}\n          height={Math.max(touchHeight, 0)}\n          onMouseDown={e => this.onMouseDown(e)}\n          onMouseMove={e => {this.onMouseMove(e)}}\n          onMouseUp={e => {this.onMouseUp(e)}}\n          onMouseLeave={e => this.onMouseLeave(e)}\n          // preventDefault() so that mouse event emulation does not happen\n          onTouchEnd={e => {\n            e.preventDefault();\n            this.stopBrushing(e);\n          }}\n          onTouchCancel={e => {\n            e.preventDefault();\n            this.stopBrushing(e);\n          }}\n          onContextMenu={e => e.preventDefault()}\n          onContextMenuCapture={e => e.preventDefault()}\n        />\n\n        <rect\n          // Brush Area\n          className=\"rv-highlight\"\n          pointerEvents=\"none\"\n          opacity={opacity}\n          fill={color}\n          x={left}\n          y={top}\n          width={Math.min(Math.max(0, right - left), touchWidth)}\n          height={Math.min(Math.max(0, bottom - top), touchHeight)}\n        />   \n        {(right-left>0) && (\n          <text \n            // Brush area size text\n            pointerEvents=\"none\" \n            x={(right-left <90) ? (left-4):(left + (right-left)/2)} \n            y={20} \n            fill=\"lawngreen\" \n            textAnchor={(right-left<90) ?'end': 'middle'}\n            style={{\"userSelect\":\"none\"}}\n            fontSize={\"10\"}\n            fontFamily={\"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\"}          \n          > {formatTime(this.state.brushArea.left)}-{formatTime(this.state.brushArea.right)}</text>\n        )}        \n        <rect\n          // Brush area resize handle left\n          className=\"rv-highlight\"\n          pointerEvents=\"visiblePoint\"\n          cursor={'e-resize'}\n          opacity={this.state.resizing? 0.5:0}\n          fill={'steelblue'}\n          x={left-2}\n          y={top}\n          width={ (this.props.drag && !this.state.brushing && (right-left)>0) ? 4:0}\n          height={touchHeight}\n          onMouseDown={(e)=> {this.startResize(e, \"left\")}}    \n          onMouseUp={(e)=>{this.onMouseUp(e)}}      \n        />  \n        <rect\n          // Brush area resize handle left\n          className=\"rv-highlight\"\n          pointerEvents=\"visiblePoint\"\n          cursor={'e-resize'}\n          opacity={this.state.resizing? 0.5:0}\n          fill={'steelblue'}\n          x={right-2}\n          y={top}\n          width={(this.props.drag && !this.state.brushing && (right-left)>0) ? 4:0}\n          height={touchHeight}\n          onMouseDown={(e)=> {this.startResize(e, \"right\")}} \n          onMouseUp={(e)=>{this.onMouseUp(e)}}  \n        />  \n        \n        <rect\n          // Playback cursor\n          className=\"rv-highlight\"\n          pointerEvents=\"none\"          \n          opacity={0.5}\n          fill={'tomato'}\n          x={cursorPos-2}\n          y={0}\n          width={4}\n          height={touchHeight}\n        />    \n        <text \n          // Playback cursor timestamp\n          pointerEvents=\"none\" \n          x={cursorPos+3} \n          y={touchHeight-5} fill=\"white\" \n          fontSize={\"10\"}\n          fontFamily={\"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\"}          \n        > {formatTime(this.props.cursor)}</text>\n\n        {desiredPos && (\n          <rect\n            // Desired Seek to position cursor\n            className=\"rv-highlight\"\n            pointerEvents=\"none\"\n            opacity={0.5}\n            fill={'green'}\n            x={desiredPos-2}\n            y={0}\n            width={4}\n            height={touchHeight}\n          />              \n        )}    \n                \n        <rect      \n          // Seek preview cursor  \n          className=\"rv-highlight\"\n          pointerEvents=\"none\"\n          opacity={0.5}\n          fill={'grey'}\n          x={previewPos-0.5}\n          y={0}\n          width={1}\n          height={touchHeight}\n        />    \n        <text \n          // Seek preview cursor timestamp\n          pointerEvents=\"none\" \n          x={previewPos+3} \n          y={10} fill=\"white\" \n          fontSize={\"10\"}\n          fontFamily={\"Lato,'Helvetica Neue',Arial,Helvetica,sans-serif\"}         \n        > {formatTime(this.state.preview)}</text>   \n\n      </g>\n    );\n  }\n}\n\nTimeLineScrub.defaultProps = {\n  color: 'rgb(77, 182, 172)',\n  className: '',\n  enableX: true,\n  enableY: true,\n  opacity: 0.3\n};\nexport default TimeLineScrub;","import React from 'react';\nimport styled from 'styled-components';\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux';\nimport {formatTime} from '../utils/string-utils'\nimport _ from 'lodash'\n\n//Components\nimport { Tab, Icon, Header,Button, Popup } from 'semantic-ui-react';\nimport {HorizontalGridLines, VerticalGridLines, XAxis, FlexibleXYPlot, YAxis, LineSeries, DiscreteColorLegend } from 'react-vis';\nimport ReactResizeDetector from 'react-resize-detector';\nimport TimeLineScrub from '../components/timeline-scrub';\nimport 'react-vis/dist/style.css';\n\n//Actions\nimport { actions as clippingActions } from \"../reducers/reducer-clipping\";\n\nconst TimelineContainer = styled.div`\n  width:100%;\n  height: ${props => props.height || \"25%\"};\n  overflow-y:hidden;\n  background:black;\n  color:white;\n  padding: 0.3em 0.5em 0.0em 0.3em;\n  border-top: 1px tomato solid;\n  position:relative;\n`\nconst Loading = styled.div`\n  background: rgba(0,0,0,0.6); \n  width:100%;\n  height:100%;  \n  display:flex;\n  align-items: center;\n  justify-content: center;\n`\nconst Toolbar = styled.div`\n  position:absolute;\n  right:0px;\n  top:0px;  \n  display:flex;\n  flex-direction:column;\n`\nconst ToolBarButton = styled(Button)`\n  width:1.5em;\n  height:1.5em;\n  padding:0px !important;\n  margin:2px !important;\n  background: ${props=> props.active ? \"red !important\": \"black !important\"};\n  color:white !important;\n  border: 1px solid white !important;\n  transition: background 0.3s;\n  transition: color 0.3s;\n  &:hover{\n    background: ${props=> props.active ? \"red !important\": \"lightgrey !important\"};\n    color: ${props=> props.active ? \"white !important\": \"black !important\"};\n  }\n  &:active{\n    color:grey !important;   \n    border: 1px solid grey !important;   \n  }\n`\nconst Legend = styled(DiscreteColorLegend)`\n  color:white !important;\n  position:absolute;\n  top:-5px;\n  left:4em;\n  .rv-discrete-color-legend-item__title{\n    color:white !important;\n  }\n`\n\nclass Timeline extends React.Component {\n  constructor(props){\n    super(props)        \n    this.state = {\n      width: 0,\n      filterWindow: null,\n      isClipping: false,\n      isPanning: false\n    }\n\n    this.axisStyle ={\n      text: {fill:'white', fontSize:'0.7em'},\n      line: {stroke: 'white'},\n      ticks: {stroke: 'white'}\n    }\n    this.colorPalette = ['#F1C40F', '#27AE61', '#E77E23','#16A086', '#E84C3D', '#2A80B9', '#8F43AF', '#ECF0F1','#C1392B', '#D25400' ]       \n    this.throttledWindow = _.throttle(this.setFilterWindow, 30)    \n  } \n\n  /** FILTER WINDOW OPERATIONS **/ \n\n  /* Set the filter window for the timeline. Left and Right supply the min and max times \n     for the window. */\n  setFilterWindow = (left, right) => {   \n    var left = Math.max(0, left)\n    var right = Math.min(this.props.vodInfo.vodDuration, right)    \n    this.setState({...this.state, filterWindow:{left: left, right: right} })\n  }\n  computeY = () => {    \n    var top = 1, bottom = 0\n    const data = this.props.search.searchResults\n    var lod = 60\n\n    if (Object.keys(data).length !=0 && this.state.filterWindow){\n      const {left, right} = this.state.filterWindow   \n    \n      var minIdx = Math.floor(left/lod)\n      var maxIdx = Math.floor(right/lod)\n     \n      //Compute the maximum value of any series within the given time window\n      top = Math.max( ...Object.keys(data).map(key => {\n          return Math.max(...data[key].resultDensityMap[lod].slice(minIdx,maxIdx)) \n        }) )           \n    }\n    return [bottom, top]    \n  }\n\n  /* Resets the filter window to a default state */\n  resetWindow = () =>{\n    this.setFilterWindow(0, this.props.vodInfo.vodDuration)    \n  }\n\n  componentDidUpdate(){\n    if (this.props.vodInfo.vodDuration && this.state.filterWindow ==null){\n      this.resetWindow()\n    }    \n  }\n  onWheelZoom = (delta) =>{\n    if (this.state.filterWindow){\n      const {left,right} = this.state.filterWindow;\n      const dist = (right - left)/2 -30\n      const factor = delta>0? Math.max(dist / 10,10) : dist/10\n\n      if (delta!=0){\n        var l = left - (delta/Math.abs(delta))*factor\n        var r = right + (delta/Math.abs(delta))*factor      \n        this.setFilterWindow(l,r)\n      }    \n    }    \n  } \n  onPan = (pan) =>{\n    if (this.state.filterWindow){\n      const {left,right} = this.state.filterWindow;\n      const newLeft = left + pan.horizontal\n      const newRight = right + pan.horizontal\n      if (newLeft >0 && newRight < this.props.vodInfo.vodDuration){\n        this.throttledWindow(newLeft, newRight)\n      }            \n      \n    }\n  }\n\n\n  onResize = (width,height)=>{\n    this.setState({...this.state, width:width})\n  } \n\n  onBrushEnd = (area) => {         \n    if (area){\n      if ( (area.right - area.left) > 120 ){\n        this.setFilterWindow(area.left, area.right)\n      }      \n    } \n  }\n\n  toggleClipping = () => {\n    this.setState({...this.state, isClipping: !this.state.isClipping })\n  }\n\n  togglePanning = () => {\n    this.setState({...this.state, isPanning: !this.state.isPanning})\n  }\n\n  renderSeries = (data, vodDuration) =>{\n    if ( Object.keys(data).length == 0 ){      \n      const emptyData = Array(Math.floor(vodDuration/60)).fill(0).map( (ele,i) => {return {x:i*60,y:0}} )\n      return ( <LineSeries data={emptyData} curve={'curveMonotoneX'}/> )\n    }\n    else {\n      return Object.keys(data).map((key,idx)=>{\n        const res = data[key].resultDensityMap[60].map( (ele,i) => {return {x:i*60, y:ele}} )     \n        return (\n          <LineSeries key={idx} data={res} curve={'curveMonotoneX'} stroke={this.colorPalette[idx % this.colorPalette.length]}/>\n        )\n      })\n    }    \n  }\n  renderLegend = (data) => {\n    const items = Object.keys(data).map((key,idx)=>{\n      return { title: data[key].query==\"\" ? \"All\" : data[key].query, color: this.colorPalette[idx % this.colorPalette.length] }\n    })    \n    return ( <Legend items={items} orientation=\"horizontal\" /> )    \n  }\n\n  createClipping = (clipArea) =>{\n    if (this.scrub){\n      const clipArea = this.scrub.getClipArea()\n      if (clipArea){\n        this.props.createClip(this.props.vodInfo.vodID, clipArea.left, clipArea.right)\n      }\n    }    \n  }\n\n  render() {\n    const {isLoading, vodDuration} = this.props.vodInfo;\n    const data = this.props.search.searchResults\n    const {filterWindow, isClipping, isPanning} = this.state       \n\n    return (          \n      <TimelineContainer height={this.props.height} onWheel={(e)=>{_.throttle(this.onWheelZoom,500)(e.deltaY)}}>\n        { (isLoading || filterWindow==null)? (\n          <Loading>                   \n              <Header icon inverted>\n                <Icon name='area chart' inverted/>\n                Loading\n              </Header>          \n          </Loading>\n        ): (\n          <FlexibleXYPlot \n            animation \n            width={this.state.width}\n            xDomain={filterWindow && [filterWindow.left, filterWindow.right]}  \n            yDomain={this.computeY()}\n            dontCheckIfEmpty          \n            >\n            \n              <XAxis style={this.axisStyle} tickFormat={v => formatTime(v)} tickSize={2}/>\n              <YAxis style={this.axisStyle} tickSize={2}/> \n              { this.renderLegend(data) }                                            \n              { this.renderSeries(data, vodDuration) } \n\n              <TimeLineScrub\n                drag={isClipping}\n                panning={isPanning}\n                color = 'white'                                       \n                enableX={true}\n                enableY={false}\n                cursor={this.props.vodInfo.currentProgress}\n                onBrushEnd={area => {!isClipping && this.onBrushEnd(area)}}\n                onNavigate={seconds => this.props.seekTo(seconds)}\n                onPan={pan=> this.onPan(pan)}   \n                ref = {ref=>{this.scrub = ref}}             \n              />            \n              \n          </FlexibleXYPlot>\n        )}            \n        <ReactResizeDetector handleWidth handleHeight onResize={this.onResize} />\n       \n        <Toolbar>  \n          <ToolBarButton icon='arrows alternate horizontal' size='mini' onClick={this.resetWindow}/>\n          <ToolBarButton active={isClipping} icon='mouse pointer' size='mini' onClick={()=> this.toggleClipping() }/>     \n          <ToolBarButton active={isPanning} icon='arrows alternate' size='mini' onClick={()=> this.togglePanning()}/>  \n          <ToolBarButton icon='clipboard' size='mini' onClick={()=> this.createClipping()}/>  \n        </Toolbar>\n      </TimelineContainer>    \n         \n    );\n  }\n}\n\n// Map Redux State and Actions to component props\nfunction mapStateToProps(state) {\n  return {\n    vodInfo: state.vodInfo,\n    search: state.search\n  }\n}\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      ...clippingActions,      \n    },\n    dispatch\n  )\n}\n\n\n\nexport default connect(mapStateToProps, matchDispatchToProps)(Timeline);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux';\n\n//Components\nimport VideoPlayer from '../components/video-player';\nimport SplitterLayout from 'react-splitter-layout';\nimport SearchTab from '../containers/search-tab';\nimport ClipTab from '../containers/clip-tab';\nimport ChatTab from '../containers/chat-tab';\nimport Timeline from '../containers/timeline';\nimport { EmptyFullOverlay } from '../components/overlays';\nimport { Tab, Loader, Dimmer, Label, Menu, Sticky } from 'semantic-ui-react';\n\n//Actions\nimport { actions as videoLoadActions } from \"../reducers/reducer-video-load\";\nimport { actions as searchActions } from \"../reducers/reducer-search\";\nimport { actions as clippingActions } from \"../reducers/reducer-clipping\";\nimport { actions as progressActions } from \"../sagas/sagas-progress-router\";\n\n//CSS\nimport 'react-splitter-layout/lib/index.css';\nimport '../css/splitter.css';\n\nconst AfterContent = styled.div`\n  position: absolute;\n  top: 100vh;\n  background: lime;\n`\nconst SplitPane = styled.div`\n  height:100%;\n`\n\nconst TabPane = styled(Tab.Pane)`\n  padding: 0.5em !important;      \n  height:100%;\n  overflow-y:auto;\n`\n\nconst PaneContainer = styled.div`  \n  display:flex;\n  flex-direction: column;  \n  height:100%; \n`\n\nclass VideoPage extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      dragging: false,\n      activeItem: \"Find Highlights\"\n    };\n    \n  }\n\n  onDragStart = () => {\n    this.setState({ dragging: true });\n  }\n\n  onDragEnd = () => {\n    this.setState({ dragging: false });\n  }\n\n  handleItemClick = (e, { name }) => this.setState({...this.state, activeItem: name })\n\n  componentDidMount(){\n    this.props.updateCurrentVodID(this.props.match.params.id)\n    this.props.loadVideoInfo(this.props.match.params.id)\n    this.props.loadTopComments(this.props.match.params.id)    \n  }\n  \n  componentWillUnmount(){\n    this.props.clearVideoInfo();\n    this.props.clearSearchResults();\n    this.props.clearTopComments();\n    this.props.clearClips();\n\n  }\n  \n  seek = (ref)=>{\n    if (ref){\n      this.seekTo = ref.seekTo\n    }    \n  }  \n\n  populateInitialSearch = ()=>{\n    //Once the video duration has been loaded, we can populate the initial\n    //search to show. In this case we show the \"all comments\" search.\n    this.props.addSearch(this.props.match.params.id, \"\", [])\n  }\n\n  getClipTabMenu = (clips) => {\n    return (\n      <Menu.Item key='clips'>\n        Clips\n        {Object.keys(clips).length >0 && (\n          <Label>{Object.keys(clips).length}</Label>\n        )}        \n      </Menu.Item>\n    )\n  }\n\n  render() {\n    const video_id = this.props.match.params.id;\n    const createdUrl = `https://www.twitch.tv/videos/${video_id}`;\n    const {isLoading} = this.props.vodInfo;\n    const {clips} = this.props.clipInfo;\n    const {activeItem} = this.state  \n    \n    return (      \n      <div>       \n          <SplitterLayout primaryMinSize={45} secondaryMinSize={25} secondaryInitialSize={30} onDragStart={this.onDragStart} onDragEnd={this.onDragEnd} percentage customClassName='clipply-splitter-layout'>    \n              <SplitPane>              \n                  {this.state.dragging && <EmptyFullOverlay blur/>}\n                  <VideoPlayer \n                    height=\"75%\" url={createdUrl} \n                    onVideoDuration={(duration)=> {this.props.updateVideoDuration(duration); this.populateInitialSearch();}} \n                    onVideoProgress={(secs)=> {this.props.onProgressUpdate(secs, video_id)}}\n                    ref={this.seek} \n                  />                                   \n                  <Timeline height=\"25%\" seekTo={this.seekTo} />\n              </SplitPane>   \n              <SplitPane>   \n                <Dimmer active={isLoading}>\n                  <Loader> Loading Video Information </Loader>\n                </Dimmer>    \n                <PaneContainer>              \n                                  \n                  <Menu attached='top' tabular color='purple'>\n                    <Menu.Item name='Find Highlights' active={activeItem === 'Find Highlights'} onClick={this.handleItemClick} />\n                    <Menu.Item name='Clips' active={activeItem === 'Clips'} onClick={this.handleItemClick} />\n                    <Menu.Item name='Chat Replay' active={activeItem === 'Chat Replay'} onClick={this.handleItemClick} />\n                  </Menu>  \n                           \n                  <TabPane>\n                    {activeItem === 'Find Highlights' && <SearchTab vodID={video_id} seekTo={this.seekTo}/> }\n                    {activeItem === 'Clips' && <ClipTab seekTo={this.seekTo}/> }\n                    {activeItem === 'Chat Replay' && <ChatTab seekTo={this.seekTo}/> }\n                  </TabPane>\n                  \n                </PaneContainer>\n                         \n              </SplitPane>           \n          </SplitterLayout>          \n       \n          <AfterContent>\n            {/* Optional Additional content can go here (recommened videos etc.) User won't\n                see this information unless they scroll. Kind of like full screen youtube \n                videos.\n             */}                      \n          </AfterContent>\n      </div>\n    );\n  }\n}\n\n// Map Redux State and Actions to component props\nfunction mapStateToProps(state) {\n  return {\n    vodInfo: state.vodInfo,\n    clipInfo: state.vodClips\n  }\n}\n\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      ...videoLoadActions,\n      ...searchActions,\n      ...clippingActions,\n      ...progressActions\n    },\n    dispatch\n  )\n}\n\n\n\nexport default connect(mapStateToProps, matchDispatchToProps)(VideoPage);\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Link } from 'react-router-dom';\nimport { Segment, Container, Icon, Grid, List, Header, Button } from 'semantic-ui-react'\n\nimport * as constants from '../utils/constants'\n\nconst Contact = ({ children }) => {\n    return (\n         <Segment style={{ padding: '7em 0em' }} vertical>\n            <Grid container stackable verticalAlign='middle'>\n                <Grid.Row>\n                    <Grid.Column width={8}>\n                        <Header as='h3' style={{ fontSize: '2em' }}>\n                            We Want to Hear From You\n                        </Header>\n                        <p style={{ fontSize: '1.33em' }}>\n                            At Clipply, we are always looking for ways to improve our product and would love your input along the way.\n                            Business inquiries, feedback, bug reports or even just a hello are all welcome!\n                        </p>\n                    </Grid.Column>\n                    <Grid.Column floated='right' width={6}>\n                        <Header as='h3' style={{ fontSize: '2em' }}>\n                            Contact Us\n                        </Header>\n                        <p style={{ fontSize: '1.33em' }}>\n                            Reach out to us through the following channels\n                        </p>                           \n\n\n                        <Button color='violet' href={constants.email}>\n                            <Icon name='mail' /> Email\n                        </Button>\n                        <Button color='instagram' href={constants.instagram}>\n                            <Icon name='instagram' /> Instagram\n                        </Button>\n                        <Button color='youtube' href={constants.youtube}>\n                            <Icon name='youtube' /> YouTube\n                        </Button>\n                    </Grid.Column>\n                </Grid.Row>\n            </Grid>\n        </Segment>\n    );\n};\n\n\nexport default Contact;\n","import React from 'react';\nimport { bindActionCreators } from \"redux\";\nimport { connect } from 'react-redux';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\n//Components\nimport { Container, Header, Icon, Button, Segment, Responsive, Image, Item, Grid, Message, Card, List } from 'semantic-ui-react'\nimport BrowseVodGrid from '../components/browse-vod-grid'\nimport BrowseVodFilters from '../components/browse-vod-filters'\nimport Footer from '../components/footer'\nimport Contact from '../components/contact'\nimport Typist from 'react-typist';\nimport '../css/typist-cursor.css'\nimport * as constants from '../utils/constants'\n\n//Actions\nimport { actions as loadBrowseActions } from \"../reducers/reducer-browse-load\";\n\nconst TypistContainer = styled.div`\n    position:relative;\n    min-width: ${props=> props.mobile? \"150px\":\"297px\"};\n    margin-left:12px;\n    display: inline-block;\n`\nconst BackgroundVideo = styled.video`\n    width:100%\n    left:0;\n    padding: none;\n    position:absolute;\n    object-fit:cover;\n    overflow:hidden;\n`\n\nconst HeaderButton = styled(Button)`\n    background: #2c004d !important;\n    color: white !important;\n    &:hover{\n        box-shadow: 2px 2px 10px grey !important;\n    }\n`\n\nconst SegmentHeader = styled.div`\n    padding:1em 0 1em 0;\n    margin:0;\n    background: #2c004d;\n    text-align: center;\n\n    h2{\n        color:white !important;\n    }\n`\n\nconst SegmentFooter = styled.div`\n    padding:1em 0 1em 0;\n    margin-top: 0.5em;\n    margin-bottom: 1em;\n    text-align: center;\n`\n\nclass HeaderContent extends React.Component{\n\n    state = {typistIndex:0}\n    render(){\n        var {mobile} = this.props\n        return (\n            <div style={{position:\"relative\", background:'black', overflow:'hidden'}}>\n                <BackgroundVideo muted autoPlay loop mobile={mobile}>\n                    <source src={'website_montage2.mp4'} type=\"video/mp4\"/>\n                    Your browser does not support the video tag.\n                </BackgroundVideo>\n                <Segment\n                    inverted\n                    textAlign='center'\n                    style={{ minHeight: mobile? 350:700, padding: '1em 0em', background:\"linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.4) 40%, rgba(0,0,0,0.6) 50%, rgba(0,0,0,0.4) 60%, rgba(0,0,0,0) 100%)\" }}\n                    vertical\n                >\n\n                    <Container>\n                        <div style={{\n                                fontSize: mobile ? '2em' : '4em',\n                                fontWeight: 'bold',\n                                marginBottom: 0,\n                                display:'flex',\n                                \"flexDirection\": \"row\",\n                                \"flexWrap\":\"wrap\",\n                                \"justifyContent\":\"center\",\n                                marginTop: mobile ? '3em' : '4em',\n                                lineHeight:\"100%\"\n\n                            }}>\n                            <span> View </span>\n                            <TypistContainer mobile={mobile}>\n                                <Typist\n                                    key={this.state.typistIndex}\n                                    onTypingDone={ () => this.setState(state => ({typistIndex: state.typistIndex + 1})) }\n                                    avgTypingDelay={120}\n                                    stdTypingDelay={30}\n                                >\n                                    {\n                                        [\"PogChamp\", \"OmegaLUL\", \"PepeHands\", \"JeBaited\", \"Pepega\"].map( word => (\n                                            [\n                                                <span>{word}</span>,\n                                                <Typist.Backspace count={word.length} delay={2000} />\n                                            ]\n                                        ))\n                                    }\n                                </Typist>\n                            </TypistContainer>\n                            <span> Moments </span>\n                        </div>\n\n                        <Header\n                            as='h2'\n                            content='Clipply Highlights uses AI & automation to find top moments from streamers'\n                            inverted\n                            style={{\n                                fontSize: mobile ? '0.85em' : '1.7em',\n                                fontWeight: 'normal',\n                                marginTop: mobile ? '0.5em' : '1.5em',\n                            }}\n                        />\n\n                        <div>\n                            <h1>Reach out to us to learn more</h1>\n\n                            <Button color='violet' href={constants.email}>\n                                <Icon name='mail' /> Email\n                            </Button>\n\n                            <Button color='instagram' href={constants.instagram}>\n                                <Icon name='instagram' /> Instagram\n                            </Button>\n\n                            <Button color='youtube' href={constants.youtube}>\n                                <Icon name='youtube' /> YouTube\n                            </Button>\n                        </div>\n\n\n\n                        {/*\n                        <HeaderButton size={mobile? 'mini':'huge'} onClick={this.props.onGetStarted}>\n                            Get Started\n                            <Icon name='right arrow' />\n                        </HeaderButton>\n                        */}\n                    </Container>\n                </Segment>\n            </div>\n        )\n    }\n}\n\nclass Home extends React.Component {\n\n  componentDidMount() {\n    this.props.loadBrowseVods();\n    window.scrollTo(0,0)\n  }\n\n  render() {\n\n    const {games, streamers, gameFilter, streamerFilter, vods, isBrowseLoading} = this.props.vodBrowse;\n    let buttonLabel = \"More Streamers and Games\"\n    if ((streamerFilter !=\"\" || gameFilter !=\"\" && isBrowseLoading==false)) {\n        buttonLabel = `More from ${ [streamerFilter, gameFilter].filter(x=> x!=\"\").join(\" and \")}`\n    }\n\n    return (\n        <div>\n            <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n                <HeaderContent mobile onGetStarted={()=> {this.vodPreviews.scrollIntoView({ behavior: \"smooth\" });}}/>\n            </Responsive>\n            <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n                <HeaderContent onGetStarted={()=> {this.vodPreviews.scrollIntoView({ behavior: \"smooth\", block: \"start\" });}}/>\n            </Responsive>\n\n            {/* Scroll position when clicked into view, we have to offset a little cause of the menu bar*/}\n            {/*\n            <div style={{position:'relative'}}>\n                <div ref={(el)=>{ this.vodPreviews = el; }} style={{position:'absolute', marginTop:'-40px'}}/>\n            </div>\n            */}\n\n            {/*\n            <BrowseVodFilters\n                isLoading={isBrowseLoading}\n                gameFilters={games}\n                streamerFilters={streamers}\n                gameFilterValue = {gameFilter}\n                streamerFilterValue = {streamerFilter}\n                onStreamerChange = {this.props.changeStreamerFilter}\n                onGameChange = {this.props.changeGameFilter}\n            />\n            <BrowseVodGrid vods = {vods} limit={4}/>\n\n            <SegmentFooter>\n                <Link to=\"/browse\">\n                    <HeaderButton>\n                        {buttonLabel}\n                    </HeaderButton>\n                </Link>\n            </SegmentFooter>\n            */}\n\n            <Grid centered padded style={{paddingTop:\"6em\", paddingBottom:\"6em\", background:\"#2c004d\"}}>\n                <Grid.Column mobile={16} tablet={8} computer={5} largeScreen={4} widescreen={4}>\n                    <Header as='h2' icon textAlign='center' style={{color:'white'}}>\n                        <Icon name='video camera' style={{color:'white', paddingBottom:'0.5em'}}/>\n                        Directly From Twitch\n                        <Header.Subheader style={{color:'white', paddingTop:'0.5em'}}> We automatically look through VODs from Twitch </Header.Subheader>\n                    </Header>\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={8} computer={5} largeScreen={4} widescreen={4}>\n                    <Header as='h2' icon textAlign='center' style={{color:'white'}}>\n                        <Icon name='trophy' style={{color:'white', paddingBottom:'0.5em'}}/>\n                        Find Highlights Easily\n                        <Header.Subheader style={{color:'white', paddingTop:'0.5em'}}> Leverage many sources of data to find the best parts of a stream </Header.Subheader>\n                    </Header>\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={8} computer={5} largeScreen={4} widescreen={4}>\n                    <Header as='h2' icon textAlign='center' style={{color:'white'}}>\n                        <Icon name='images' style={{color:'white', paddingBottom:'0.5em'}} />\n                        Download & Timestamps\n                        <Header.Subheader style={{color:'white', paddingTop:'0.5em'}}> Quickly find timestamps of highlights and generate full videos & clips </Header.Subheader>\n                    </Header>\n                </Grid.Column>\n                <Grid.Column mobile={16} tablet={8} computer={5} largeScreen={4} widescreen={4}>\n                    <Header as='h2' icon textAlign='center' style={{color:'white'}}>\n                        <Icon name='settings' style={{color:'white', paddingBottom:'0.5em'}}/>\n                        Powered By AI And ML\n                        <Header.Subheader style={{color:'white', paddingTop:'0.5em'}}> Clipply has learned from hundreds of funny and exiciting clips to find the best moments of a stream </Header.Subheader>\n                    </Header>\n                </Grid.Column>\n            </Grid>\n\n\n            {/*<Contact/>*/}\n\n            <Footer/>\n\n        </div>\n    )\n  }\n}\n// Map Redux State and Actions to component props\nfunction mapStateToProps(state) {\n  return {\n    vodBrowse: state.vodBrowse\n  }\n}\n\nfunction matchDispatchToProps(dispatch) {\n  return bindActionCreators(\n    {\n      ...loadBrowseActions\n    },\n    dispatch\n  )\n}\n\nexport default connect(mapStateToProps, matchDispatchToProps)(Home);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\n//Components\nimport Contact from '../components/contact'\nimport Footer from '../components/footer'\n\nclass About extends React.Component{    \n    \n    render(){        \n        return (   \n\n            <div>\n                <Contact/>\n                <Footer/>\n            </div> \n        )\n    }\n}\n\nexport default About;","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport Browse from \"./browse\";\nimport VideoPage from \"./video-page\";\nimport Home from \"./home\";\nimport About from \"./about\";\n\nconst Main = () => (\n  <main>\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/browse\" component={Browse} />\n      <Route exact path=\"/about\" component={About} />\n      <Route path=\"/videos/:id\" component={VideoPage} />\n    </Switch>\n  </main>\n);\n\nexport default Main;\n","import React from 'react';\nimport styled from 'styled-components';\n\n/* Components */\nimport MenuBar from '../components/menu-bar';\nimport Main from '../containers/main';\n\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nconst App = () => (\n  <div>\n    <Router>\n      <MenuBar/>\n      <div style={{\"paddingTop\":\"40px\"}}>\n        <Main/>\n      </div>\n    </Router>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { applyMiddleware, compose, createStore } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport * as serviceWorker from './serviceWorker';\n\nimport 'semantic-ui-css/semantic.min.css';\n\nimport allReducers from './reducers';\nimport allSagas from './sagas';\n\nimport App from './containers/app';\n\n// Dev Tools Enhancement\nconst composeEnhancers = typeof window === \"object\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n: compose;\n\n// Create Saga Middleware\nconst sagaMiddleware = createSagaMiddleware();\n\n// Apply enhancers\nconst allStoreEnhancers = composeEnhancers(\n    applyMiddleware(sagaMiddleware),\n);\n\n// Create Redux Store\nconst store = createStore(\n  allReducers,\n  allStoreEnhancers\n);\n\n//Run Sagas\nsagaMiddleware.run(allSagas);\n\n\n// Render Main App to the DOM\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}